// Code generated by go generate; DO NOT EDIT.

package static // import "miniflux.app/ui/static"

var Javascripts = map[string]string{
	"app":            `(function(){'use strict';class a{static isVisible(a){return a.offsetParent!==null}static openNewTab(b){let a=window.open("");a.opener=null,a.location=b,a.focus()}static scrollPageTo(a,d){let e=window.pageYOffset,b=document.documentElement.clientHeight,c=e+b,f=a.offsetTop+a.offsetHeight;(d||c-f<0||c-a.offsetTop>b)&&window.scrollTo(0,a.offsetTop-10)}static getVisibleElements(c){let a=document.querySelectorAll(c),b=[];for(let c=0;c<a.length;c++)this.isVisible(a[c])&&b.push(a[c]);return b}static findParent(a,b){for(;a&&a!==document;a=a.parentNode)if(a.classList.contains(b))return a;return null}static hasPassiveEventListenerOption(){var b=!1,a;try{a=Object.defineProperty({},"passive",{get:function(){b=!0}}),window.addEventListener("test",a,a),window.removeEventListener("test",a,a)}catch(a){b=!1}return b}}class N{constructor(){this.reset()}reset(){this.touch={start:{x:-1,y:-1},move:{x:-1,y:-1},element:null}}calculateDistance(){if(this.touch.start.x>=-1&&this.touch.move.x>=-1){let a=Math.abs(this.touch.move.x-this.touch.start.x),b=Math.abs(this.touch.move.y-this.touch.start.y);if(a>30&&b<70)return this.touch.move.x-this.touch.start.x}return 0}findElement(b){return b.classList.contains("touch-item")?b:a.findParent(b,"touch-item")}onTouchStart(a){if(a.touches===void 0||a.touches.length!==1)return;this.reset(),this.touch.start.x=a.touches[0].clientX,this.touch.start.y=a.touches[0].clientY,this.touch.element=this.findElement(a.touches[0].target)}onTouchMove(a){if(a.touches===void 0||a.touches.length!==1||this.element===null)return;this.touch.move.x=a.touches[0].clientX,this.touch.move.y=a.touches[0].clientY;let b=this.calculateDistance(),c=Math.abs(b);if(c>0){let d=1-(c>75?.9:c/75*.9),e=b>75?75:b<-75?-75:b;this.touch.element.style.opacity=d,this.touch.element.style.transform="translateX("+e+"px)",a.preventDefault()}}onTouchEnd(a){if(a.touches===void 0)return;if(this.touch.element!==null){let a=Math.abs(this.calculateDistance());a>75&&n(this.touch.element),this.touch.element.style.opacity=1,this.touch.element.style.transform="none"}this.reset()}listen(){let e=document.querySelectorAll(".touch-item"),c=a.hasPassiveEventListenerOption();e.forEach(a=>{a.addEventListener("touchstart",a=>this.onTouchStart(a),!!c&&{passive:!0}),a.addEventListener("touchmove",a=>this.onTouchMove(a),!!c&&{passive:!1}),a.addEventListener("touchend",a=>this.onTouchEnd(a),!!c&&{passive:!0}),a.addEventListener("touchcancel",()=>this.reset(),!!c&&{passive:!0})});let d=document.querySelector(".entry-content");if(d){let a={previous:null,next:null};const e=(c,d)=>{const e=a[c];e===null?a[c]=setTimeout(()=>{a[c]=null},200):(d.preventDefault(),b(c))};d.addEventListener("touchend",a=>{a.changedTouches[0].clientX>=d.offsetWidth/2?e("next",a):e("previous",a)},!!c&&{passive:!1}),d.addEventListener("touchmove",b=>{Object.keys(a).forEach(b=>a[b]=null)})}}}class M{constructor(){this.queue=[],this.shortcuts={},this.triggers=[]}on(a,b){this.shortcuts[a]=b,this.triggers.push(a.split(" ")[0])}listen(){document.onkeydown=a=>{let b=this.getKey(a);if(this.isEventIgnored(a,b)||this.isModifierKeyDown(a))return;a.preventDefault(),this.queue.push(b);for(let c in this.shortcuts){let d=c.split(" ");if(d.every((a,b)=>a===this.queue[b])){this.queue=[],this.shortcuts[c](a);return}if(d.length===1&&b===d[0]){this.queue=[],this.shortcuts[c](a);return}}this.queue.length>=2&&(this.queue=[])}}isEventIgnored(a,b){return a.target.tagName==="INPUT"||a.target.tagName==="TEXTAREA"||this.queue.length<1&&!this.triggers.includes(b)}isModifierKeyDown(a){return a.getModifierState("Control")||a.getModifierState("Alt")||a.getModifierState("Meta")}getKey(b){const a={Esc:'Escape',Up:'ArrowUp',Down:'ArrowDown',Left:'ArrowLeft',Right:'ArrowRight'};for(let c in a)if(a.hasOwnProperty(c)&&c===b.key)return a[c];return b.key}}class d{constructor(a){this.callback=null,this.url=a,this.options={method:"POST",cache:"no-cache",credentials:"include",body:null,headers:new Headers({"Content-Type":"application/json","X-Csrf-Token":this.getCsrfToken()})}}withHttpMethod(a){return this.options.method=a,this}withBody(a){return this.options.body=JSON.stringify(a),this}withCallback(a){return this.callback=a,this}getCsrfToken(){let a=document.querySelector("meta[name=X-CSRF-Token]");return a!==null?a.getAttribute("value"):""}execute(){fetch(new Request(this.url,this.options)).then(a=>{this.callback&&this.callback(a)})}}class g{static exists(){return document.getElementById("modal-container")!==null}static open(c){if(g.exists())return;let a=document.createElement("div");a.id="modal-container",a.appendChild(document.importNode(c,!0)),document.body.appendChild(a);let b=document.querySelector("a.btn-close-modal");b!==null&&(b.onclick=a=>{a.preventDefault(),g.close()})}static close(){let a=document.getElementById("modal-container");a!==null&&a.parentNode.removeChild(a)}}function c(a,b,c){let d=document.querySelectorAll(a);d.forEach(a=>{a.onclick=a=>{c||a.preventDefault(),b(a)}})}function K(){let b=document.querySelector(".header nav ul");a.isVisible(b)?b.style.display="none":b.style.display="block";let c=document.querySelector(".header .search");a.isVisible(c)?c.style.display="none":c.style.display="block"}function G(b){let a=b.target;a.tagName==="A"?window.location.href=a.getAttribute("href"):window.location.href=a.querySelector("a").getAttribute("href")}function C(){let a=document.querySelectorAll("form");a.forEach(a=>{a.onsubmit=()=>{let b=a.querySelector("button");b&&(b.innerHTML=b.dataset.labelLoading,b.disabled=!0)}})}function u(b){b.preventDefault(),b.stopPropagation();let c=document.querySelector(".search-toggle-switch");c&&(c.style.display="none");let d=document.querySelector(".search-form");d&&(d.style.display="block");let a=document.getElementById("search-input");a&&(a.focus(),a.value="")}function A(){let a=document.getElementById("keyboard-shortcuts");a!==null&&g.open(a.content)}function q(){let d=a.getVisibleElements(".items .item"),c=[];d.forEach(a=>{a.classList.add("item-status-read"),c.push(parseInt(a.dataset.id,10))}),c.length>0&&l(c,"read",()=>{let a=document.querySelector("a[data-action=markPageAsRead]"),c=!1;a&&(c=a.dataset.showOnlyUnread||!1),c?window.location.reload():b("next",!0)})}function x(b){let c=!b,a=h(b);a&&(n(a,c),e()&&a.classList.contains('current-item')&&i())}function n(b,h){let i=parseInt(b.dataset.id,10),a=b.querySelector("a[data-toggle-status]"),c=a.dataset.value,e=c==="read"?"unread":"read";l([i],e);let g,d;c==="read"?(g=document.querySelector("template#icon_read"),d=a.dataset.labelRead,h&&f(a.dataset.toastUnread)):(g=document.querySelector("template#icon_unread"),d=a.dataset.labelUnread,h&&f(a.dataset.toastRead)),a.innerHTML=g.innerHTML+'<span class="icon-label">'+d+'</span>',a.dataset.value=e,b.classList.contains("item-status-"+c)&&(b.classList.remove("item-status-"+c),b.classList.add("item-status-"+e))}function O(a){if(a.classList.contains("item-status-unread")){a.classList.remove("item-status-unread"),a.classList.add("item-status-read");let b=parseInt(a.dataset.id,10);l([b],"read")}}function L(){let b=document.body.dataset.refreshAllFeedsUrl,a=new d(b);a.withCallback(()=>{window.location.reload()}),a.withHttpMethod("GET"),a.execute()}function l(c,b,e){let f=document.body.dataset.entriesStatusUrl,a=new d(f);a.withBody({entry_ids:c,status:b}),a.withCallback(e),a.execute(),b==="read"?I(1):J(1)}function r(a){let c=!a,b=h(a);b&&E(b.querySelector("a[data-save-entry]"),c)}function E(a,c){if(!a)return;if(a.dataset.completed)return;let e=a.innerHTML;a.innerHTML='<span class="icon-label">'+a.dataset.labelLoading+'</span>';let b=new d(a.dataset.saveUrl);b.withCallback(()=>{a.innerHTML=e,a.dataset.completed=!0,c&&f(a.dataset.toastDone)}),b.execute()}function t(a){let c=!a,b=h(a);b&&B(b,c)}function B(e,b){let a=e.querySelector("a[data-toggle-bookmark]");if(!a)return;a.innerHTML='<span class="icon-label">'+a.dataset.labelLoading+'</span>';let c=new d(a.dataset.bookmarkUrl);c.withCallback(()=>{let e=a.dataset.value,g=e==="star"?"unstar":"star",c,d;e==="star"?(c=document.querySelector("template#icon_star"),d=a.dataset.labelStar,b&&f(a.dataset.toastUnstar)):(c=document.querySelector("template#icon_unstar"),d=a.dataset.labelUnstar,b&&f(a.dataset.toastStar)),a.innerHTML=c.innerHTML+'<span class="icon-label">'+d+'</span>',a.dataset.value=g}),c.execute()}function v(){if(e())return;let a=document.querySelector("a[data-fetch-content-entry]");if(!a)return;let c=a.innerHTML;a.innerHTML='<span class="icon-label">'+a.dataset.labelLoading+'</span>';let b=new d(a.dataset.fetchContentUrl);b.withCallback(b=>{a.innerHTML=c,b.json().then(a=>{a.hasOwnProperty("content")&&(document.querySelector(".entry-content").innerHTML=a.content)})}),b.execute()}function w(d){let b=document.querySelector(".entry h1 a");if(b!==null){d?window.location.href=b.getAttribute("href"):a.openNewTab(b.getAttribute("href"));return}let c=document.querySelector(".current-item a[data-original-link]");if(c!==null){a.openNewTab(c.getAttribute("href"));let b=document.querySelector(".current-item");document.location.href!=document.querySelector('a[data-page=starred]').href&&i(),O(b)}}function m(b){if(e()){let b=document.querySelector(".current-item a[data-comments-link]");b!==null&&a.openNewTab(b.getAttribute("href"))}else{let c=document.querySelector("a[data-comments-link]");if(c!==null){b?window.location.href=c.getAttribute("href"):a.openNewTab(c.getAttribute("href"));return}}}function P(){let a=document.querySelector(".current-item .item-title a");a!==null&&(window.location.href=a.getAttribute("href"))}function H(){let a=document.querySelectorAll("[data-action=remove-feed]");if(a.length===1){let b=a[0],c=new d(b.dataset.url);c.withCallback(()=>{b.dataset.redirectUrl?window.location.href=b.dataset.redirectUrl:window.location.reload()}),c.execute()}}function b(b,c){let a=document.querySelector("a[data-page="+b+"]");a?document.location.href=a.href:c&&window.location.reload()}function k(){e()?F():b("previous")}function j(){e()?i():b("next")}function D(){p()?s():b('feeds')}function s(){if(p()){let a=document.querySelector("span.entry-website a");a!==null&&(window.location.href=a.href)}else{let a=document.querySelector(".current-item a[data-feed-link]");a!==null&&(window.location.href=a.getAttribute("href"))}}function F(){let b=a.getVisibleElements(".items .item");if(b.length===0)return;if(document.querySelector(".current-item")===null){b[0].classList.add("current-item"),b[0].querySelector('.item-header a').focus();return}for(let c=0;c<b.length;c++)if(b[c].classList.contains("current-item")){b[c].classList.remove("current-item");let d;c-1>=0?d=b[c-1]:d=b[b.length-1],d.classList.add("current-item"),a.scrollPageTo(d),d.querySelector('.item-header a').focus();break}}function i(){let b=a.getVisibleElements(".items .item");if(b.length===0)return;if(document.querySelector(".current-item")===null){b[0].classList.add("current-item"),b[0].querySelector('.item-header a').focus();return}for(let c=0;c<b.length;c++)if(b[c].classList.contains("current-item")){b[c].classList.remove("current-item");let d;c+1<b.length?d=b[c+1]:d=b[0],d.classList.add("current-item"),a.scrollPageTo(d),d.querySelector('.item-header a').focus();break}}function z(){let b=document.querySelector(".current-item");b!==null&&a.scrollPageTo(b,!0)}function I(a){y(b=>b-a)}function J(a){y(b=>b+a)}function y(a){let b=document.querySelectorAll("span.unread-counter");if(b.forEach(b=>{let c=parseInt(b.textContent,10);b.innerHTML=a(c)}),window.location.href.endsWith('/unread')){let b=parseInt(document.title.split('(')[1],10),c=a(b);document.title=document.title.replace(/(.*?)\(\d+\)(.*?)/,function(d,a,b,e,f){return a+'('+c+')'+b})}}function p(){return document.querySelector("section.entry")!==null}function e(){return document.querySelector(".items")!==null}function h(b){return e()?b?a.findParent(b,"item"):document.querySelector(".current-item"):document.querySelector(".entry")}function o(a,f){a.tagName!='A'&&(a=a.parentNode),a.style.display="none";let e=a.parentNode,b=document.createElement("span"),c=document.createElement("a");c.href="#",c.appendChild(document.createTextNode(a.dataset.labelYes)),c.onclick=d=>{d.preventDefault();let c=document.createElement("span");c.className="loading",c.appendChild(document.createTextNode(a.dataset.labelLoading)),b.remove(),e.appendChild(c),f(a.dataset.url,a.dataset.redirectUrl)};let d=document.createElement("a");d.href="#",d.appendChild(document.createTextNode(a.dataset.labelNo)),d.onclick=c=>{c.preventDefault(),a.style.display="inline",b.remove()},b.className="confirm",b.appendChild(document.createTextNode(a.dataset.labelQuestion+" ")),b.appendChild(c),b.appendChild(document.createTextNode(", ")),b.appendChild(d),e.appendChild(b)}function f(a){if(!a)return;document.querySelector('.toast-wrap .toast-msg').innerHTML=a;let b=document.querySelector('.toast-wrap');b.classList.remove('toastAnimate'),setTimeout(function(){b.classList.add('toastAnimate')},100)}document.addEventListener("DOMContentLoaded",function(){if(C(),!document.querySelector("body[data-disable-keyboard-shortcuts=true]")){let a=new M;a.on("g u",()=>b("unread")),a.on("g b",()=>b("starred")),a.on("g h",()=>b("history")),a.on("g f",()=>D()),a.on("g c",()=>b("categories")),a.on("g s",()=>b("settings")),a.on("ArrowLeft",()=>k()),a.on("ArrowRight",()=>j()),a.on("k",()=>k()),a.on("p",()=>k()),a.on("j",()=>j()),a.on("n",()=>j()),a.on("h",()=>b("previous")),a.on("l",()=>b("next")),a.on("z t",()=>z()),a.on("o",()=>P()),a.on("v",()=>w()),a.on("V",()=>w(!0)),a.on("c",()=>m()),a.on("C",()=>m(!0)),a.on("m",()=>x()),a.on("A",()=>q()),a.on("s",()=>r()),a.on("d",()=>v()),a.on("f",()=>t()),a.on("F",()=>s()),a.on("R",()=>L()),a.on("?",()=>A()),a.on("#",()=>H()),a.on("/",a=>u(a)),a.on("Escape",()=>g.close()),a.listen()}let a=new N;if(a.listen(),c("a[data-save-entry]",a=>r(a.target)),c("a[data-toggle-bookmark]",a=>t(a.target)),c("a[data-fetch-content-entry]",()=>v()),c("a[data-action=search]",a=>u(a)),c("a[data-action=markPageAsRead]",()=>o(event.target,()=>q())),c("a[data-toggle-status]",a=>x(a.target)),c("a[data-confirm]",a=>o(a.target,(c,a)=>{let b=new d(c);b.withCallback(()=>{a?window.location.href=a:window.location.reload()}),b.execute()})),document.documentElement.clientWidth<600&&(c(".logo",()=>K()),c(".header nav li",a=>G(a))),"serviceWorker"in navigator){let a=document.getElementById("service-worker-script");a&&navigator.serviceWorker.register(a.src)}const e=Array.from(document.querySelectorAll('#player, audio, video')).map(a=>new Plyr(a));window.addEventListener('beforeinstallprompt',c=>{c.preventDefault();let a=c;const b=document.getElementById('prompt-home-screen');if(b){b.style.display="block";const c=document.getElementById('btn-add-to-home-screen');c&&c.addEventListener('click',c=>{c.preventDefault(),a.prompt(),a.userChoice.then(()=>{a=null,b.style.display="none"})})}})})})()`,
	"plyr":           `typeof navigator=="object"&&function(a,b){typeof exports=='object'&&typeof module!='undefined'?module.exports=b():typeof define=='function'&&define.amd?define('Plyr',b):(a=typeof globalThis!='undefined'?globalThis:a||self,a.Plyr=b())}(this,function(){var ar,B,O,an,al,br,ak,bq,bl,aj,ah,bk,bj,bi,o,ba,A,p,U,ac,aZ,K,aY,Z,_,aX,aa,aW,aQ,aP,aO,aN,aT,aM,ai,aK,a,N,n,ao,i,aL,u,C,aC,af,k,ag,aD,bf,bp,b,g,aq,P,s,Q,R,be,bd,h,bc,bn,bb,T,I,ay,aS,aR,aJ,az,aA,W,au;'use strict';function y(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function aF(d,c){for(var b=0,a;b<c.length;b++)a=c[b],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}function w(a,b,c){return b&&aF(a.prototype,b),c&&aF(a,c),a}function aB(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function aG(a,d){var b=Object.keys(a),c;return Object.getOwnPropertySymbols&&(c=Object.getOwnPropertySymbols(a),d&&(c=c.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),b.push.apply(b,c)),b}function E(c){for(var a=1,b;a<arguments.length;a++)b=arguments[a]!=null?arguments[a]:{},a%2?aG(Object(b),!0).forEach(function(a){aB(c,a,b[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):aG(Object(b)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(b,a))});return c}function bV(c,f){var d,e,a,b;if(c==null)return{};d={},e=Object.keys(c);for(b=0;b<e.length;b++){if(a=e[b],f.indexOf(a)>=0)continue;d[a]=c[a]}return d}function bR(b,f){var d,a,c,e;if(b==null)return{};if(d=bV(b,f),Object.getOwnPropertySymbols){e=Object.getOwnPropertySymbols(b);for(c=0;c<e.length;c++){if(a=e[c],f.indexOf(a)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(b,a))continue;d[a]=b[a]}}return d}function m(a,b){return bO(a)||bL(a,b)||a$(a,b)||bE()}function ax(a){return bZ(a)||bM(a)||a$(a)||bG()}function bZ(a){if(Array.isArray(a))return av(a)}function bO(a){if(Array.isArray(a))return a}function bM(a){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(a))return Array.from(a)}function bL(g,h){var b,c,e,f,a,d;if(typeof Symbol=="undefined"||!(Symbol.iterator in Object(g)))return;b=[],c=!0,e=!1,f=void 0;try{for(a=g[Symbol.iterator](),d;!(c=(d=a.next()).done);c=!0)if(b.push(d.value),h&&b.length===h)break}catch(a){e=!0,f=a}finally{try{!c&&a.return!=null&&a.return()}finally{if(e)throw f}}return b}function a$(a,c){if(!a)return;if(typeof a=="string")return av(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if(b==="Object"&&a.constructor&&(b=a.constructor.name),b==="Map"||b==="Set")return Array.from(a);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return av(a,c)}function av(c,a){(a==null||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}function bG(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bE(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bD(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function a_(d,c){for(var b=0,a;b<c.length;b++)a=c[b],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(d,a.key,a)}function bA(a,b,c){return b&&a_(a.prototype,b),c&&a_(a,c),a}function by(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function bo(a,d){var b=Object.keys(a),c;return Object.getOwnPropertySymbols&&(c=Object.getOwnPropertySymbols(a),d&&(c=c.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),b.push.apply(b,c)),b}function bg(c){for(var a=1,b;a<arguments.length;a++)b=null!=arguments[a]?arguments[a]:{},a%2?bo(Object(b),!0).forEach(function(a){by(c,a,b[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):bo(Object(b)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(b,a))});return c}ar={addCSS:!0,thumbWidth:15,watch:!0};function bv(b,a){return function(){return Array.from(document.querySelectorAll(a)).includes(this)}.call(b,a)}function bu(a,b){if(a&&b){var c=new Event(b,{bubbles:!0});a.dispatchEvent(c)}}B=function(a){return null!=a?a.constructor:null},O=function(a,b){return!!(a&&b&&a instanceof b)},an=function(a){return null==a},al=function(a){return B(a)===Object},br=function(a){return B(a)===Number&&!Number.isNaN(a)},ak=function(a){return B(a)===String},bq=function(a){return B(a)===Boolean},bl=function(a){return B(a)===Function},aj=function(a){return Array.isArray(a)},ah=function(a){return O(a,NodeList)},bk=function(a){return O(a,Element)},bj=function(a){return O(a,Event)},bi=function(a){return an(a)||(ak(a)||aj(a)||ah(a))&&!a.length||al(a)&&!Object.keys(a).length},o={nullOrUndefined:an,object:al,number:br,string:ak,boolean:bq,function:bl,array:aj,nodeList:ah,element:bk,event:bj,empty:bi};function bC(b){var a="".concat(b).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return a?Math.max(0,(a[1]?a[1].length:0)-(a[2]?+a[2]:0)):0}function bF(b,a){if(1>a){var c=bC(a);return parseFloat(b.toFixed(c))}return Math.round(b/a)*a}ba=function(){function a(b,c){bD(this,a),o.element(b)?this.element=b:o.string(b)&&(this.element=document.querySelector(b)),o.element(this.element)&&o.empty(this.element.rangeTouch)&&(this.config=bg({},ar,{},c),this.init())}return bA(a,[{key:"init",value:function(){a.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){a.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(b){var a=this,c=b?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(b){a.element[c](b,function(b){return a.set(b)},!1)})}},{key:"get",value:function(d){if(!a.enabled||!o.event(d))return null;var b,c=d.target,i=d.changedTouches[0],f=parseFloat(c.getAttribute("min"))||0,h=parseFloat(c.getAttribute("max"))||100,j=parseFloat(c.getAttribute("step"))||1,e=c.getBoundingClientRect(),g=100/e.width*(this.config.thumbWidth/2)/100;return 0>(b=100/e.width*(i.clientX-e.left))?b=0:100<b&&(b=100),50>b?b-=(100-2*b)*g:50<b&&(b+=2*(b-50)*g),f+bF(b/100*(h-f),j)}},{key:"set",value:function(b){a.enabled&&o.event(b)&&!b.target.disabled&&(b.preventDefault(),b.target.value=this.get(b),bu(b.target,"touchend"===b.type?"change":"input"))}}],[{key:"setup",value:function(b){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=null,e,f;return(o.empty(b)||o.string(b)?c=Array.from(document.querySelectorAll(o.string(b)?b:'input[type="range"]')):o.element(b)?c=[b]:o.nodeList(b)?c=Array.from(b):o.array(b)&&(c=b.filter(o.element)),o.empty(c))?null:(e=bg({},ar,{},d),o.string(b)&&e.watch&&(f=new MutationObserver(function(c){Array.from(c).forEach(function(c){Array.from(c.addedNodes).forEach(function(c){o.element(c)&&bv(c,b)&&new a(c,e)})})}),f.observe(document.body,{childList:!0,subtree:!0})),c.map(function(b){return new a(b,d)}))}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),a}(),A=function(a){return a!==null&&typeof a!='undefined'?a.constructor:null},p=function(a,b){return Boolean(a&&b&&a instanceof b)},U=function(a){return a===null||typeof a=='undefined'},ac=function(a){return A(a)===Object},aZ=function(a){return A(a)===Number&&!Number.isNaN(a)},K=function(a){return A(a)===String},aY=function(a){return A(a)===Boolean},Z=function(a){return A(a)===Function},_=function(a){return Array.isArray(a)},aX=function(a){return p(a,WeakMap)},aa=function(a){return p(a,NodeList)},aW=function(a){return p(a,Element)},aQ=function(a){return A(a)===Text},aP=function(a){return p(a,Event)},aO=function(a){return p(a,KeyboardEvent)},aN=function(a){return p(a,window.TextTrackCue)||p(a,window.VTTCue)},aT=function(a){return p(a,TextTrack)||!U(a)&&K(a.kind)},aM=function(a){return p(a,Promise)&&Z(a.then)},ai=function(a){return U(a)||(K(a)||_(a)||aa(a))&&!a.length||ac(a)&&!Object.keys(a).length},aK=function(a){if(p(a,window.URL))return!0;if(!K(a))return!1;var b=a;(!a.startsWith('http://')||!a.startsWith('https://'))&&(b="http://".concat(a));try{return!ai(new URL(b).hostname)}catch(a){return!1}},a={nullOrUndefined:U,object:ac,number:aZ,string:K,boolean:aY,function:Z,array:_,weakMap:aX,nodeList:aa,element:aW,textNode:aQ,event:aP,keyboardEvent:aO,cue:aN,track:aT,promise:aM,url:aK,empty:ai},N=function(){var d=document.createElement('span'),b={WebkitTransition:'webkitTransitionEnd',MozTransition:'transitionend',OTransition:'oTransitionEnd otransitionend',transition:'transitionend'},c=Object.keys(b).find(function(a){return d.style[a]!==void 0});return!!a.string(c)&&b[c]}();function am(a,b){setTimeout(function(){try{a.hidden=!0,a.offsetHeight,a.hidden=!1}catch(a){}},b)}n={isIE:!!document.documentMode,isEdge:window.navigator.userAgent.includes('Edge'),isWebkit:'WebkitAppearance'in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:/(iPad|iPhone|iPod)/gi.test(navigator.platform)};function bU(a){return JSON.parse(JSON.stringify(a))}function aI(a,b){return b.split('.').reduce(function(a,b){return a&&a[b]},a)}function j(){for(var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length,d=new Array(f>1?f-1:0),e=1,c;e<f;e++)d[e-1]=arguments[e];return d.length?(c=d.shift(),!a.object(c))?b:(Object.keys(c).forEach(function(d){a.object(c[d])?(Object.keys(b).includes(d)||Object.assign(b,aB({},d,{})),j(b[d],c[d])):Object.assign(b,aB({},d,c[d]))}),j.apply(void 0,[b].concat(d))):b}function aH(a,b){var c=a.length?a:[a];Array.from(c).reverse().forEach(function(a,f){var c=f>0?b.cloneNode(!0):b,d=a.parentNode,e=a.nextSibling;c.appendChild(a),e?d.insertBefore(c,e):d.appendChild(c)})}function at(b,c){if(!a.element(b)||a.empty(c))return;Object.entries(c).filter(function(b){var c=m(b,2),d=c[1];return!a.nullOrUndefined(d)}).forEach(function(c){var a=m(c,2),d=a[0],e=a[1];return b.setAttribute(d,e)})}function d(e,c,d){var b=document.createElement(e);return a.object(c)&&at(b,c),a.string(d)&&(b.innerText=d),b}function bW(c,b){if(!a.element(c)||!a.element(b))return;b.parentNode.insertBefore(c,b.nextSibling)}function bs(c,b,e,f){if(!a.element(b))return;b.appendChild(d(c,e,f))}function t(b){if(a.nodeList(b)||a.array(b)){Array.from(b).forEach(t);return}if(!a.element(b)||!a.element(b.parentNode))return;b.parentNode.removeChild(b)}function V(b){if(!a.element(b))return;for(var c=b.childNodes.length;c>0;)b.removeChild(b.lastChild),c-=1}function X(c,b){return!a.element(b)||!a.element(b.parentNode)||!a.element(c)?null:(b.parentNode.replaceChild(c,b),c)}function r(d,e){var b,c;return!a.string(d)||a.empty(d)?{}:(b={},c=j({},e),d.split(',').forEach(function(g){var d=g.trim(),f=d.replace('.',''),h=d.replace(/[[\]]/g,''),e=h.split('='),i=m(e,1),j=i[0],k=e.length>1?e[1].replace(/["']/g,''):'',l=d.charAt(0);switch(l){case'.':a.string(c.class)?b.class="".concat(c.class," ").concat(f):b.class=f;break;case'#':b.id=d.replace('#','');break;case'[':b[j]=k;break}}),j(c,b))}function z(b,d){if(!a.element(b))return;var c=d;a.boolean(c)||(c=!b.hidden),b.hidden=c}function e(b,c,d){if(a.nodeList(b))return Array.from(b).map(function(a){return e(a,c,d)});if(a.element(b)){var f='toggle';return typeof d!='undefined'&&(f=d?'add':'remove'),b.classList[f](c),b.classList.contains(c)}return!1}function Y(b,c){return a.element(b)&&b.classList.contains(c)}function x(c,b){var d=Element,a=d.prototype,f;function e(){return Array.from(document.querySelectorAll(b)).includes(this)}return f=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||e,f.call(c,b)}function bX(b,a){var c=Element,d=c.prototype,f;function e(){var b=this;do{if(x.matches(b,a))return b;b=b.parentElement||b.parentNode}while(b!==null&&b.nodeType===1)return null}return f=d.closest||e,f.call(b,a)}function D(a){return this.elements.container.querySelectorAll(a)}function l(a){return this.elements.container.querySelector(a)}function ap(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,c=!!(arguments.length>1&&arguments[1]!==void 0)&&arguments[1];if(!a.element(b))return;b.focus({preventScroll:!0}),c&&e(b,this.config.classNames.tabFocus)}ao={'audio/ogg':'vorbis','audio/wav':'1','video/webm':'vp8, vorbis','video/mp4':'avc1.42E01E, mp4a.40.2','video/ogg':'theora'},i={audio:'canPlayType'in document.createElement('audio'),video:'canPlayType'in document.createElement('video'),check:function(a,d,e){var f=n.isIPhone&&e&&i.playsinline,b=i[a]||d!=='html5',c=b&&i.rangeInput&&(a!=='video'||!n.isIPhone||f);return{api:b,ui:c}},pip:function(){return!n.isIPhone&&(!!a.function(d('video').webkitSetPresentationMode)||(!!(document.pictureInPictureEnabled&&!d('video').disablePictureInPicture)))}(),airplay:a.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:'playsInline'in document.createElement('video'),mime:function(c){var d,e,f,b;if(a.empty(c))return!1;if(d=c.split('/'),e=m(d,1),f=e[0],b=c,!this.isHTML5||f!==this.type)return!1;Object.keys(ao).includes(b)&&(b+='; codecs="'.concat(ao[c],'"'));try{return Boolean(b&&this.media.canPlayType(b).replace(/no/,''))}catch(a){return!1}},textTracks:'textTracks'in document.createElement('video'),rangeInput:function(){var a=document.createElement('input');return a.type='range',a.type==='range'}(),touch:'ontouchstart'in document.documentElement,transitions:N!==!1,reducedMotion:'matchMedia'in window&&window.matchMedia('(prefers-reduced-motion)').matches},aL=function(){var a=!1,b;try{b=Object.defineProperty({},'passive',{get:function(){return a=!0,null}}),window.addEventListener('test',null,b),window.removeEventListener('test',null,b)}catch(a){}return a}();function F(b,f,c){var d=this,g=!!(arguments.length>3&&arguments[3]!==void 0)&&arguments[3],i=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],h=!!(arguments.length>5&&arguments[5]!==void 0)&&arguments[5],j,e;if(!b||!('addEventListener'in b)||a.empty(f)||!a.function(c))return;j=f.split(' '),e=h,aL&&(e={passive:i,capture:h}),j.forEach(function(a){d&&d.eventListeners&&g&&d.eventListeners.push({element:b,type:a,callback:c,options:e}),b[g?'addEventListener':'removeEventListener'](a,c,e)})}function f(a){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:'',c=arguments.length>2?arguments[2]:void 0,d=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],e=!!(arguments.length>4&&arguments[4]!==void 0)&&arguments[4];F.call(this,a,b,c,!0,d,e)}function L(a){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:'',c=arguments.length>2?arguments[2]:void 0,d=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],e=!!(arguments.length>4&&arguments[4]!==void 0)&&arguments[4];F.call(this,a,b,c,!1,d,e)}function ad(a){var e=this,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:'',f=arguments.length>2?arguments[2]:void 0,c=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],d=!!(arguments.length>4&&arguments[4]!==void 0)&&arguments[4],g=function j(){L(a,b,j,c,d);for(var h=arguments.length,i=new Array(h),g=0;g<h;g++)i[g]=arguments[g];f.apply(e,i)};F.call(this,a,b,g,!0,c,d)}function c(b){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:'',d=!!(arguments.length>2&&arguments[2]!==void 0)&&arguments[2],e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},f;if(!a.element(b)||a.empty(c))return;f=new CustomEvent(c,{bubbles:d,detail:E(E({},e),{},{plyr:this})}),b.dispatchEvent(f)}function bT(){this&&this.eventListeners&&(this.eventListeners.forEach(function(a){var b=a.element,c=a.type,d=a.callback,e=a.options;b.removeEventListener(c,d,e)}),this.eventListeners=[])}function bS(){var a=this;return new Promise(function(b){return a.ready?setTimeout(b,0):f.call(a,a.elements.container,'ready',b)}).then(function(){})}function q(b){a.promise(b)&&b.then(null,function(){})}function aU(b){if(!a.array(b)&&(!a.string(b)||!b.includes(':')))return!1;var c=a.array(b)?b:b.split(':');return c.map(Number).every(a.number)}function aV(b){var c,d,e,g,f;return!a.array(b)||!b.every(a.number)?null:(c=m(b,2),d=c[0],e=c[1],g=function c(b,a){return a===0?b:c(a,b%a)},f=g(d,e),[d/f,e/f])}function ab(e){var c=function(a){return aU(a)?a.split(':').map(Number):null},b=c(e),d,f,g;return b===null&&(b=c(this.config.ratio)),b===null&&!a.empty(this.embed)&&a.array(this.embed.ratio)&&(b=this.embed.ratio),b===null&&this.isHTML5&&(d=this.media,f=d.videoWidth,g=d.videoHeight,b=aV([f,g])),b}function v(k){var c,b,h,e,i,g,d,f,j;return this.isVideo?(c=this.elements.wrapper,b=ab.call(this,k),h=a.array(b)?b:[0,0],e=m(h,2),i=e[0],g=e[1],d=100/i*g,c.style.paddingBottom="".concat(d,"%"),this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui?(f=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),j=(f-d)/(f/50),this.fullscreen.active?c.style.paddingBottom=null:this.media.style.transform="translateY(-".concat(j,"%)")):this.isHTML5&&c.classList.toggle(this.config.classNames.videoFixedRatio,b!==null),{padding:d,ratio:b}):{}}u={getSources:function(){var b=this,c;return this.isHTML5?(c=Array.from(this.media.querySelectorAll('source')),c.filter(function(d){var c=d.getAttribute('type');return!!a.empty(c)||i.mime.call(b,c)})):[]},getQualityOptions:function(){return this.config.quality.forced?this.config.quality.options:u.getSources.call(this).map(function(a){return Number(a.getAttribute('size'))}).filter(Boolean)},setup:function(){if(!this.isHTML5)return;var b=this;b.options.speed=b.config.speed.options,a.empty(this.config.ratio)||v.call(b),Object.defineProperty(b.media,'quality',{get:function(){var c=u.getSources.call(b),a=c.find(function(a){return a.getAttribute('src')===b.source});return a&&Number(a.getAttribute('size'))},set:function(e){var h,f,d,i,g,j,k,l;if(b.quality===e)return;if(b.config.quality.forced&&a.function(b.config.quality.onChange))b.config.quality.onChange(e);else{if(h=u.getSources.call(b),f=h.find(function(a){return Number(a.getAttribute('size'))===e}),!f)return;d=b.media,i=d.currentTime,g=d.paused,j=d.preload,k=d.readyState,l=d.playbackRate,b.media.src=f.getAttribute('src'),(j!=='none'||k)&&(b.once('loadedmetadata',function(){b.speed=l,b.currentTime=i,g||q(b.play())}),b.media.load())}c.call(b,b.media,'qualitychange',!1,{quality:e})}})},cancelRequests:function(){if(!this.isHTML5)return;t(u.getSources.call(this)),this.media.setAttribute('src',this.config.blankVideo),this.media.load(),this.debug.log('Cancelled network requests')}};function $(b){return a.array(b)?b.filter(function(a,c){return b.indexOf(a)===c}):b}function bQ(b,c){return!a.array(b)||!b.length?null:b.reduce(function(a,b){return Math.abs(b-c)<Math.abs(a-c)?b:a})}function bJ(a){return"".concat(a,"-").concat(Math.floor(Math.random()*1e4))}function ae(c){for(var d=arguments.length,e=new Array(d>1?d-1:0),b=1;b<d;b++)e[b-1]=arguments[b];return a.empty(c)?c:c.toString().replace(/{(\d+)}/g,function(b,a){return e[a].toString()})}function bI(a,b){return a===0||b===0||Number.isNaN(a)||Number.isNaN(b)?0:(a/b*100).toFixed(2)}C=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:'',b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:'',c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:'';return a.replace(new RegExp(b.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,'\\$1'),'g'),c.toString())},aC=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:'';return a.toString().replace(/\w\S*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})};function bB(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:'',a=b.toString();return a=C(a,'-',' '),a=C(a,'_',' '),a=aC(a),C(a,' ','')}function bx(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:'',a=b.toString();return a=bB(a),a.charAt(0).toLowerCase()+a.slice(1)}function bw(c){var a=document.createDocumentFragment(),b=document.createElement('div');return a.appendChild(b),b.innerHTML=c,a.firstChild.innerText}function bt(b){var a=document.createElement('div');return a.appendChild(b),a.innerHTML}af={pip:'PIP',airplay:'AirPlay',html5:'HTML5',vimeo:'Vimeo',youtube:'YouTube'},k={get:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:'',c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d,e;return a.empty(b)||a.empty(c)?'':(d=aI(c.i18n,b),a.empty(d))?Object.keys(af).includes(b)?af[b]:'':(e={'{seektime}':c.seekTime,'{title}':c.title},Object.entries(e).forEach(function(b){var a=m(b,2),c=a[0],e=a[1];d=C(d,c,e)}),d)}},ag=function(){function b(a){y(this,b),this.enabled=a.config.storage.enabled,this.key=a.config.storage.key}return w(b,[{key:"get",value:function(c){var d,e;return!b.supported||!this.enabled?null:(d=window.localStorage.getItem(this.key),a.empty(d))?null:(e=JSON.parse(d),a.string(c)&&c.length?e[c]:e)}},{key:"set",value:function(d){if(!b.supported||!this.enabled)return;if(!a.object(d))return;var c=this.get();a.empty(c)&&(c={}),j(c,d),window.localStorage.setItem(this.key,JSON.stringify(c))}}],[{key:"supported",get:function(){try{if(!('localStorage'in window))return!1;var a='___test';return window.localStorage.setItem(a,a),window.localStorage.removeItem(a),!0}catch(a){return!1}}}]),b}();function J(b){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:'text';return new Promise(function(d,e){try{var c=new XMLHttpRequest;if(!('withCredentials'in c))return;c.addEventListener('load',function(){if(a==='text')try{d(JSON.parse(c.responseText))}catch(a){d(c.responseText)}else d(c.response)}),c.addEventListener('error',function(){throw new Error(c.status)}),c.open('GET',b,!0),c.responseType=a,c.send()}catch(a){e(a)}})}function bm(k,b){var i,d,f,g,e,h,c,j,l;if(!a.string(k))return;i='cache',d=a.string(b),f=!1,g=function(){return document.getElementById(b)!==null},e=function(a,b){if(a.innerHTML=b,d&&g())return;document.body.insertAdjacentElement('afterbegin',a)},(!d||!g())&&(h=ag.supported,c=document.createElement('div'),c.setAttribute('hidden',''),d&&c.setAttribute('id',b),h&&(j=window.localStorage.getItem("".concat(i,"-").concat(b)),f=j!==null,f&&(l=JSON.parse(j),e(c,l.content))),J(k).then(function(d){if(a.empty(d))return;h&&window.localStorage.setItem("".concat(i,"-").concat(b),JSON.stringify({content:d})),e(c,d)}).catch(function(){}))}aD=function(a){return Math.trunc(a/60/60%60,10)},bf=function(a){return Math.trunc(a/60%60,10)},bp=function(a){return Math.trunc(a%60,10)};function M(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=!!(arguments.length>1&&arguments[1]!==void 0)&&arguments[1],e=!!(arguments.length>2&&arguments[2]!==void 0)&&arguments[2],f,c,g,h;return a.number(b)?(f=function(a){return"0".concat(a).slice(-2)},c=aD(b),g=bf(b),h=bp(b),d||c>0?c="".concat(c,":"):c='',"".concat(e&&b>0?'-':'').concat(c).concat(f(g),":").concat(f(h))):M(void 0,d,e)}b={getIconUrl:function(){var a=new URL(this.config.iconUrl,window.location),b=a.host!==window.location.host||n.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:b}},findElements:function(){try{return this.elements.controls=l.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:D.call(this,this.config.selectors.buttons.play),pause:l.call(this,this.config.selectors.buttons.pause),restart:l.call(this,this.config.selectors.buttons.restart),rewind:l.call(this,this.config.selectors.buttons.rewind),fastForward:l.call(this,this.config.selectors.buttons.fastForward),mute:l.call(this,this.config.selectors.buttons.mute),pip:l.call(this,this.config.selectors.buttons.pip),airplay:l.call(this,this.config.selectors.buttons.airplay),settings:l.call(this,this.config.selectors.buttons.settings),captions:l.call(this,this.config.selectors.buttons.captions),fullscreen:l.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=l.call(this,this.config.selectors.progress),this.elements.inputs={seek:l.call(this,this.config.selectors.inputs.seek),volume:l.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:l.call(this,this.config.selectors.display.buffer),currentTime:l.call(this,this.config.selectors.display.currentTime),duration:l.call(this,this.config.selectors.display.duration)},a.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(".".concat(this.config.classNames.tooltip))),!0}catch(a){return this.debug.warn('It looks like there is a problem with your custom controls HTML',a),this.toggleNativeControls(!0),!1}},createIcon:function(h,i){var e='http://www.w3.org/2000/svg',f=b.getIconUrl.call(this),g="".concat(f.cors?'':f.url,"#").concat(this.config.iconPrefix),c=document.createElementNS(e,'svg'),a,d;return at(c,j(i,{'aria-hidden':'true',focusable:'false'})),a=document.createElementNS(e,'use'),d="".concat(g,"-").concat(h),'href'in a&&a.setAttributeNS('http://www.w3.org/1999/xlink','href',d),a.setAttributeNS('http://www.w3.org/1999/xlink','xlink:href',d),c.appendChild(a),c},createLabel:function(b){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=k.get(b,this.config),e=E(E({},a),{},{class:[a.class,this.config.classNames.hidden].filter(Boolean).join(' ')});return d('span',e,c)},createBadge:function(b){if(a.empty(b))return null;var c=d('span',{class:this.config.classNames.menu.value});return c.appendChild(d('span',{class:this.config.classNames.menu.badge},b)),c},createButton:function(h,i){var k=this,e=j({},i),g=bx(h),c={element:'button',toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null},f;switch(['element','icon','label'].forEach(function(a){Object.keys(e).includes(a)&&(c[a]=e[a],delete e[a])}),c.element==='button'&&!Object.keys(e).includes('type')&&(e.type='button'),Object.keys(e).includes('class')?e.class.split(' ').some(function(a){return a===k.config.classNames.control})||j(e,{class:"".concat(e.class," ").concat(this.config.classNames.control)}):e.class=this.config.classNames.control,h){case'play':c.toggle=!0,c.label='play',c.labelPressed='pause',c.icon='play',c.iconPressed='pause';break;case'mute':c.toggle=!0,c.label='mute',c.labelPressed='unmute',c.icon='volume',c.iconPressed='muted';break;case'captions':c.toggle=!0,c.label='enableCaptions',c.labelPressed='disableCaptions',c.icon='captions-off',c.iconPressed='captions-on';break;case'fullscreen':c.toggle=!0,c.label='enterFullscreen',c.labelPressed='exitFullscreen',c.icon='enter-fullscreen',c.iconPressed='exit-fullscreen';break;case'play-large':e.class+=" ".concat(this.config.classNames.control,"--overlaid"),g='play',c.label='play',c.icon='play';break;default:a.empty(c.label)&&(c.label=g),a.empty(c.icon)&&(c.icon=h)}return f=d(c.element),c.toggle?(f.appendChild(b.createIcon.call(this,c.iconPressed,{class:'icon--pressed'})),f.appendChild(b.createIcon.call(this,c.icon,{class:'icon--not-pressed'})),f.appendChild(b.createLabel.call(this,c.labelPressed,{class:'label--pressed'})),f.appendChild(b.createLabel.call(this,c.label,{class:'label--not-pressed'}))):(f.appendChild(b.createIcon.call(this,c.icon)),f.appendChild(b.createLabel.call(this,c.label))),j(e,r(this.config.selectors.buttons[g],e)),at(f,e),g==='play'?(a.array(this.elements.buttons[g])||(this.elements.buttons[g]=[]),this.elements.buttons[g].push(f)):this.elements.buttons[g]=f,f},createRange:function(c,e){var a=d('input',j(r(this.config.selectors.inputs[c]),{type:'range',min:0,max:100,step:.01,value:0,autocomplete:'off',role:'slider','aria-label':k.get(c,this.config),'aria-valuemin':0,'aria-valuemax':100,'aria-valuenow':0},e));return this.elements.inputs[c]=a,b.updateRangeFill.call(this,a),ba.setup(a),a},createProgress:function(a,e){var b=d('progress',j(r(this.config.selectors.display[a]),{min:0,max:100,value:0,role:'progressbar','aria-hidden':!0},e)),c,f;return a!=='volume'&&(b.appendChild(d('span',null,'0')),c={played:'played',buffer:'buffered'}[a],f=c?k.get(c,this.config):'',b.innerText="% ".concat(f.toLowerCase())),this.elements.display[a]=b,b},createTime:function(a,e){var b=r(this.config.selectors.display[a],e),c=d('div',j(b,{class:"".concat(b.class?b.class:''," ").concat(this.config.classNames.display.time," ").trim(),'aria-label':k.get(a,this.config)}),'00:00');return this.elements.display[a]=c,c},bindMenuItemShortcuts:function(c,e){var d=this;f.call(this,c,'keydown keyup',function(f){var h,g;if(![32,38,39,40].includes(f.which))return;if(f.preventDefault(),f.stopPropagation(),f.type==='keydown')return;h=x(c,'[role="menuitemradio"]'),!h&&[32,39].includes(f.which)?b.showMenuPanel.call(d,e,!0):f.which!==32&&(f.which===40||h&&f.which===39?(g=c.nextElementSibling,a.element(g)||(g=c.parentNode.firstElementChild)):(g=c.previousElementSibling,a.element(g)||(g=c.parentNode.lastElementChild)),ap.call(d,g,!0))},!1),f.call(this,c,'keyup',function(a){if(a.which!==13)return;b.focusFirstMenuItem.call(d,null,!0)})},createMenuItem:function(e){var f=this,g=e.value,q=e.list,h=e.type,p=e.title,l=e.badge,m=l===void 0?null:l,n=e.checked,o=n!==void 0&&n,k=r(this.config.selectors.inputs[h]),c=d('button',j(k,{type:'button',role:'menuitemradio',class:"".concat(this.config.classNames.control," ").concat(k.class?k.class:'').trim(),'aria-checked':o,value:g})),i=d('span');i.innerHTML=p,a.element(m)&&i.appendChild(m),c.appendChild(i),Object.defineProperty(c,'checked',{enumerable:!0,get:function(){return c.getAttribute('aria-checked')==='true'},set:function(a){a&&Array.from(c.parentNode.children).filter(function(a){return x(a,'[role="menuitemradio"]')}).forEach(function(a){return a.setAttribute('aria-checked','false')}),c.setAttribute('aria-checked',a?'true':'false')}}),this.listeners.bind(c,'click keyup',function(d){if(a.keyboardEvent(d)&&d.which!==32)return;switch(d.preventDefault(),d.stopPropagation(),c.checked=!0,h){case'language':f.currentTrack=Number(g);break;case'quality':f.quality=g;break;case'speed':f.speed=parseFloat(g);break}b.showMenuPanel.call(f,'home',a.keyboardEvent(d))},h,!1),b.bindMenuItemShortcuts.call(this,c,h),q.appendChild(c)},formatTime:function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,c=!!(arguments.length>1&&arguments[1]!==void 0)&&arguments[1],d;return a.number(b)?(d=aD(this.duration)>0,M(b,d,c)):b},updateTimeDisplay:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=!!(arguments.length>2&&arguments[2]!==void 0)&&arguments[2];if(!a.element(c)||!a.number(d))return;c.innerText=b.formatTime(d,e)},updateVolume:function(){if(!this.supported.ui)return;a.element(this.elements.inputs.volume)&&b.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),a.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||this.volume===0)},setRange:function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!a.element(c))return;c.value=d,b.updateRangeFill.call(this,c)},updateProgress:function(c){var e=this,d,f;if(!this.supported.ui||!a.event(c))return;if(d=0,f=function(c,d){var f=a.number(d)?d:0,b=a.element(c)?c:e.elements.display.buffer,g;a.element(b)&&(b.value=f,g=b.getElementsByTagName('span')[0],a.element(g)&&(g.childNodes[0].nodeValue=f))},c)switch(c.type){case'timeupdate':case'seeking':case'seeked':d=bI(this.currentTime,this.duration),c.type==='timeupdate'&&b.setRange.call(this,this.elements.inputs.seek,d);break;case'playing':case'progress':f(this.elements.display.buffer,this.buffered*100);break}},updateRangeFill:function(d){var c=a.event(d)?d.target:d,f,g,h,e;if(!a.element(c)||c.getAttribute('type')!=='range')return;if(x(c,this.config.selectors.inputs.seek)?(c.setAttribute('aria-valuenow',this.currentTime),f=b.formatTime(this.currentTime),g=b.formatTime(this.duration),h=k.get('seekLabel',this.config),c.setAttribute('aria-valuetext',h.replace('{currentTime}',f).replace('{duration}',g))):x(c,this.config.selectors.inputs.volume)?(e=c.value*100,c.setAttribute('aria-valuenow',e),c.setAttribute('aria-valuetext',"".concat(e.toFixed(1),"%"))):c.setAttribute('aria-valuenow',c.value),!n.isWebkit)return;c.style.setProperty('--value',"".concat(c.value/c.max*100,"%"))},updateSeekTooltip:function(d){var i=this,g,h,c,f;if(!this.config.tooltips.seek||!a.element(this.elements.inputs.seek)||!a.element(this.elements.display.seekTooltip)||this.duration===0)return;if(g="".concat(this.config.classNames.tooltip,"--visible"),h=function(a){return e(i.elements.display.seekTooltip,g,a)},this.touch){h(!1);return}if(c=0,f=this.elements.progress.getBoundingClientRect(),a.event(d))c=100/f.width*(d.pageX-f.left);else if(Y(this.elements.display.seekTooltip,g))c=parseFloat(this.elements.display.seekTooltip.style.left,10);else return;c<0?c=0:c>100&&(c=100),b.updateTimeDisplay.call(this,this.elements.display.seekTooltip,this.duration/100*c),this.elements.display.seekTooltip.style.left="".concat(c,"%"),a.event(d)&&['mouseenter','mouseleave'].includes(d.type)&&h(d.type==='mouseenter')},timeUpdate:function(c){var d=!a.element(this.elements.display.duration)&&this.config.invertTime;if(b.updateTimeDisplay.call(this,this.elements.display.currentTime,d?this.duration-this.currentTime:this.currentTime,d),c&&c.type==='timeupdate'&&this.media.seeking)return;b.updateProgress.call(this,c)},durationUpdate:function(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=Math.pow(2,32)){z(this.elements.display.currentTime,!0),z(this.elements.progress,!0);return}a.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute('aria-valuemax',this.duration);var c=a.element(this.elements.display.duration);!c&&this.config.displayDuration&&this.paused&&b.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),c&&b.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),b.updateSeekTooltip.call(this)},toggleMenuButton:function(a,b){z(this.elements.settings.buttons[a],!b)},updateSetting:function(c,j,g){var h=this.elements.settings.panels[c],d=null,e=j,i,f;if(c==='captions')d=this.currentTrack;else{if(d=a.empty(g)?this[c]:g,a.empty(d)&&(d=this.config[c].default),!a.empty(this.options[c])&&!this.options[c].includes(d)){this.debug.warn("Unsupported value of '".concat(d,"' for ").concat(c));return}if(!this.config[c].options.includes(d)){this.debug.warn("Disabled value of '".concat(d,"' for ").concat(c));return}}if(a.element(e)||(e=h&&h.querySelector('[role="menu"]')),!a.element(e))return;i=this.elements.settings.buttons[c].querySelector(".".concat(this.config.classNames.menu.value)),i.innerHTML=b.getLabel.call(this,c,d),f=e&&e.querySelector('[value="'.concat(d,'"]')),a.element(f)&&(f.checked=!0)},getLabel:function(d,b){switch(d){case'speed':return b===1?k.get('normal',this.config):"".concat(b,"&times;");case'quality':if(a.number(b)){var c=k.get("qualityLabel.".concat(b),this.config);return c.length?c:"".concat(b,"p")}return aC(b);case'captions':return g.getLabel.call(this);default:return null}},setQualityMenu:function(f){var c=this,d,e,g,h;if(!a.element(this.elements.settings.panels.quality))return;if(d='quality',e=this.elements.settings.panels.quality.querySelector('[role="menu"]'),a.array(f)&&(this.options.quality=$(f).filter(function(a){return c.config.quality.options.includes(a)})),g=!a.empty(this.options.quality)&&this.options.quality.length>1,b.toggleMenuButton.call(this,d,g),V(e),b.checkMenu.call(this),!g)return;h=function(d){var a=k.get("qualityBadge.".concat(d),c.config);return a.length?b.createBadge.call(c,a):null},this.options.quality.sort(function(b,d){var a=c.config.quality.options;return a.indexOf(b)>a.indexOf(d)?1:-1}).forEach(function(a){b.createMenuItem.call(c,{value:a,list:e,type:d,title:b.getLabel.call(c,'quality',a),badge:h(a)})}),b.updateSetting.call(this,d,e)},setCaptionsMenu:function(){var c=this,f,d,h,i,e;if(!a.element(this.elements.settings.panels.captions))return;if(f='captions',d=this.elements.settings.panels.captions.querySelector('[role="menu"]'),h=g.getTracks.call(this),i=Boolean(h.length),b.toggleMenuButton.call(this,f,i),V(d),b.checkMenu.call(this),!i)return;e=h.map(function(a,e){return{value:e,checked:c.captions.toggled&&c.currentTrack===e,title:g.getLabel.call(c,a),badge:a.language&&b.createBadge.call(c,a.language.toUpperCase()),list:d,type:'language'}}),e.unshift({value:-1,checked:!this.captions.toggled,title:k.get('disabled',this.config),list:d,type:'language'}),e.forEach(b.createMenuItem.bind(this)),b.updateSetting.call(this,f,d)},setSpeedMenu:function(){var c=this,d,e,f;if(!a.element(this.elements.settings.panels.speed))return;if(d='speed',e=this.elements.settings.panels.speed.querySelector('[role="menu"]'),this.options.speed=this.options.speed.filter(function(a){return a>=c.minimumSpeed&&a<=c.maximumSpeed}),f=!a.empty(this.options.speed)&&this.options.speed.length>1,b.toggleMenuButton.call(this,d,f),V(e),b.checkMenu.call(this),!f)return;this.options.speed.forEach(function(a){b.createMenuItem.call(c,{value:a,list:e,type:d,title:b.getLabel.call(c,'speed',a)})}),b.updateSetting.call(this,d,e)},checkMenu:function(){var b=this.elements.settings.buttons,c=!a.empty(b)&&Object.values(b).some(function(a){return!a.hidden});z(this.elements.settings.menu,!c)},focusFirstMenuItem:function(c){var d=!!(arguments.length>1&&arguments[1]!==void 0)&&arguments[1],b,e;if(this.elements.settings.popup.hidden)return;b=c,a.element(b)||(b=Object.values(this.elements.settings.panels).find(function(a){return!a.hidden})),e=b.querySelector('[role^="menuitem"]'),ap.call(this,e,d)},toggleMenu:function(c){var f=this.elements.settings.popup,g=this.elements.buttons.settings,h,d,j,i;if(!a.element(f)||!a.element(g))return;if(h=f.hidden,d=h,a.boolean(c))d=c;else if(a.keyboardEvent(c)&&c.which===27)d=!1;else if(a.event(c)){if(j=a.function(c.composedPath)?c.composedPath()[0]:c.target,i=f.contains(j),i||!i&&c.target!==g&&d)return}g.setAttribute('aria-expanded',d),z(f,!d),e(this.elements.container,this.config.classNames.menu.open,d),d&&a.keyboardEvent(c)?b.focusFirstMenuItem.call(this,null,!0):!d&&!h&&ap.call(this,g,a.keyboardEvent(c))},getMenuSize:function(b){var a=b.cloneNode(!0),c,d;return a.style.position='absolute',a.style.opacity=0,a.removeAttribute('hidden'),b.parentNode.appendChild(a),c=a.scrollWidth,d=a.scrollHeight,t(a),{width:c,height:d}},showMenuPanel:function(){var k=this,h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:'',j=!!(arguments.length>1&&arguments[1]!==void 0)&&arguments[1],d=this.elements.container.querySelector("#plyr-settings-".concat(this.id,"-").concat(h)),c,e,g,l;if(!a.element(d))return;c=d.parentNode,e=Array.from(c.children).find(function(a){return!a.hidden}),i.transitions&&!i.reducedMotion&&(c.style.width="".concat(e.scrollWidth,"px"),c.style.height="".concat(e.scrollHeight,"px"),g=b.getMenuSize.call(this,d),l=function b(a){if(a.target!==c||!['width','height'].includes(a.propertyName))return;c.style.width='',c.style.height='',L.call(k,c,N,b)},f.call(this,c,N,l),c.style.width="".concat(g.width,"px"),c.style.height="".concat(g.height,"px")),z(e,!0),z(d,!1),b.focusFirstMenuItem.call(this,d,j)},setDownloadUrl:function(){var b=this.elements.buttons.download;if(!a.element(b))return;b.setAttribute('href',this.download)},create:function(l){var c=this,v=b.bindMenuItemShortcuts,h=b.createButton,t=b.createProgress,p=b.createRange,o=b.createTime,q=b.setQualityMenu,s=b.setSpeedMenu,m=b.showMenuPanel,e,g;return this.elements.controls=null,a.array(this.config.controls)&&this.config.controls.includes('play-large')&&this.elements.container.appendChild(h.call(this,'play-large')),e=d('div',r(this.config.selectors.controls.wrapper)),this.elements.controls=e,g={class:'plyr__controls__item'},$(a.array(this.config.controls)?this.config.controls:[]).forEach(function(b){var B,s,A,q,D,u,x,y,z,C,w,E;b==='restart'&&e.appendChild(h.call(c,'restart',g)),b==='rewind'&&e.appendChild(h.call(c,'rewind',g)),b==='play'&&e.appendChild(h.call(c,'play',g)),b==='fast-forward'&&e.appendChild(h.call(c,'fast-forward',g)),b==='progress'&&(B=d('div',{class:"".concat(g.class," plyr__progress__container")}),s=d('div',r(c.config.selectors.progress)),s.appendChild(p.call(c,'seek',{id:"plyr-seek-".concat(l.id)})),s.appendChild(t.call(c,'buffer')),c.config.tooltips.seek&&(A=d('span',{class:c.config.classNames.tooltip},'00:00'),s.appendChild(A),c.elements.display.seekTooltip=A),c.elements.progress=s,B.appendChild(c.elements.progress),e.appendChild(B)),b==='current-time'&&e.appendChild(o.call(c,'currentTime',g)),b==='duration'&&e.appendChild(o.call(c,'duration',g)),(b==='mute'||b==='volume')&&(q=c.elements.volume,(!a.element(q)||!e.contains(q))&&(q=d('div',j({},g,{class:"".concat(g.class," plyr__volume").trim()})),c.elements.volume=q,e.appendChild(q)),b==='mute'&&q.appendChild(h.call(c,'mute')),b==='volume'&&!n.isIos&&(D={max:1,step:.05,value:c.config.volume},q.appendChild(p.call(c,'volume',j(D,{id:"plyr-volume-".concat(l.id)}))))),b==='captions'&&e.appendChild(h.call(c,'captions',g)),b==='settings'&&!a.empty(c.config.settings)&&(u=d('div',j({},g,{class:"".concat(g.class," plyr__menu").trim(),hidden:''})),u.appendChild(h.call(c,'settings',{'aria-haspopup':!0,'aria-controls':"plyr-settings-".concat(l.id),'aria-expanded':!1})),x=d('div',{class:'plyr__menu__container',id:"plyr-settings-".concat(l.id),hidden:''}),y=d('div'),z=d('div',{id:"plyr-settings-".concat(l.id,"-home")}),C=d('div',{role:'menu'}),z.appendChild(C),y.appendChild(z),c.elements.settings.panels.home=z,c.config.settings.forEach(function(a){var b=d('button',j(r(c.config.selectors.buttons.settings),{type:'button',class:"".concat(c.config.classNames.control," ").concat(c.config.classNames.control,"--forward"),role:'menuitem','aria-haspopup':!0,hidden:''})),h,i,e,g;v.call(c,b,a),f.call(c,b,'click',function(){m.call(c,a,!1)}),h=d('span',null,k.get(a,c.config)),i=d('span',{class:c.config.classNames.menu.value}),i.innerHTML=l[a],h.appendChild(i),b.appendChild(h),C.appendChild(b),e=d('div',{id:"plyr-settings-".concat(l.id,"-").concat(a),hidden:''}),g=d('button',{type:'button',class:"".concat(c.config.classNames.control," ").concat(c.config.classNames.control,"--back")}),g.appendChild(d('span',{'aria-hidden':!0},k.get(a,c.config))),g.appendChild(d('span',{class:c.config.classNames.hidden},k.get('menuBack',c.config))),f.call(c,e,'keydown',function(a){if(a.which!==37)return;a.preventDefault(),a.stopPropagation(),m.call(c,'home',!0)},!1),f.call(c,g,'click',function(){m.call(c,'home',!1)}),e.appendChild(g),e.appendChild(d('div',{role:'menu'})),y.appendChild(e),c.elements.settings.buttons[a]=b,c.elements.settings.panels[a]=e}),x.appendChild(y),u.appendChild(x),e.appendChild(u),c.elements.settings.popup=x,c.elements.settings.menu=u),b==='pip'&&i.pip&&e.appendChild(h.call(c,'pip',g)),b==='airplay'&&i.airplay&&e.appendChild(h.call(c,'airplay',g)),b==='download'&&(w=j({},g,{element:'a',href:c.download,target:'_blank'}),c.isHTML5&&(w.download=''),E=c.config.urls.download,!a.url(E)&&c.isEmbed&&j(w,{icon:"logo-".concat(c.provider),label:c.provider}),e.appendChild(h.call(c,'download',w))),b==='fullscreen'&&e.appendChild(h.call(c,'fullscreen',g))}),this.isHTML5&&q.call(this,u.getQualityOptions.call(this)),s.call(this),e},inject:function(){var f=this,i,c,j,k,s,d,q,h,o,r,l,t,p;this.config.loadSprite&&(i=b.getIconUrl.call(this),i.cors&&bm(i.url,'sprite-plyr')),this.id=Math.floor(Math.random()*1e4),c=null,this.elements.controls=null,j={id:this.id,seektime:this.config.seekTime,title:this.config.title},k=!0,a.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,j)),this.config.controls||(this.config.controls=[]),a.element(this.config.controls)||a.string(this.config.controls)?c=this.config.controls:(c=b.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:g.getLabel.call(this)}),k=!1),s=function(b){var a=b;return Object.entries(j).forEach(function(c){var b=m(c,2),d=b[0],e=b[1];a=C(a,"{".concat(d,"}"),e)}),a},k&&a.string(this.config.controls)&&(c=s(c)),a.string(this.config.selectors.controls.container)&&(d=document.querySelector(this.config.selectors.controls.container)),a.element(d)||(d=this.elements.container),q=a.element(c)?'insertAdjacentElement':'insertAdjacentHTML',d[q]('afterbegin',c),a.element(this.elements.controls)||b.findElements.call(this),a.empty(this.elements.buttons)||(h=function(a){var b=f.config.classNames.controlPressed;Object.defineProperty(a,'pressed',{enumerable:!0,get:function(){return Y(a,b)},set:function(){var c=!!(arguments.length>0&&arguments[0]!==void 0)&&arguments[0];e(a,b,c)}})},Object.values(this.elements.buttons).filter(Boolean).forEach(function(b){a.array(b)||a.nodeList(b)?Array.from(b).filter(Boolean).forEach(h):h(b)})),n.isEdge&&am(d),this.config.tooltips.controls&&(o=this.config,r=o.classNames,l=o.selectors,t="".concat(l.controls.wrapper," ").concat(l.labels," .").concat(r.hidden),p=D.call(this,t),Array.from(p).forEach(function(a){e(a,f.config.classNames.hidden,!1),e(a,f.config.classNames.tooltip,!0)}))}};function aE(c){var d=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],a=c,b;d&&(b=document.createElement('a'),b.href=a,a=b.href);try{return new URL(a)}catch(a){return null}}function bh(b){var c=new URLSearchParams;return a.object(b)&&Object.entries(b).forEach(function(b){var a=m(b,2),d=a[0],e=a[1];c.set(d,e)}),c}g={setup:function(){var j,k,h,e,l,c,o;if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!i.textTracks){a.array(this.config.controls)&&this.config.controls.includes('settings')&&this.config.settings.includes('captions')&&b.setCaptionsMenu.call(this);return}a.element(this.elements.captions)||(this.elements.captions=d('div',r(this.config.selectors.captions)),bW(this.elements.captions,this.elements.wrapper)),n.isIE&&window.URL&&(j=this.media.querySelectorAll('track'),Array.from(j).forEach(function(a){var c=a.getAttribute('src'),b=aE(c);b!==null&&b.hostname!==window.location.href.hostname&&['http:','https:'].includes(b.protocol)&&J(c,'blob').then(function(b){a.setAttribute('src',window.URL.createObjectURL(b))}).catch(function(){t(a)})})),k=navigator.languages||[navigator.language||navigator.userLanguage||'en'],h=$(k.map(function(a){return a.split('-')[0]})),e=(this.storage.get('language')||this.config.captions.language||'auto').toLowerCase(),e==='auto'&&(l=m(h,1),e=l[0]),c=this.storage.get('captions'),a.boolean(c)||(c=this.config.captions.active),Object.assign(this.captions,{toggled:!1,active:c,language:e,languages:h}),this.isHTML5&&(o=this.config.captions.update?'addtrack removetrack':'removetrack',f.call(this,this.media.textTracks,o,g.update.bind(this))),setTimeout(g.update.bind(this),0)},update:function(){var h=this,c=g.getTracks.call(this,!0),d=this.captions,l=d.active,i=d.language,j=d.meta,m=d.currentTrackNode,k=Boolean(c.find(function(a){return a.language===i}));this.isHTML5&&this.isVideo&&c.filter(function(a){return!j.get(a)}).forEach(function(a){h.debug.log('Track added',a),j.set(a,{default:a.mode==='showing'}),a.mode==='showing'&&(a.mode='hidden'),f.call(h,a,'cuechange',function(){return g.updateCues.call(h)})}),(k&&this.language!==i||!c.includes(m))&&(g.setLanguage.call(this,i),g.toggle.call(this,l&&k)),e(this.elements.container,this.config.classNames.captions.enabled,!a.empty(c)),a.array(this.config.controls)&&this.config.controls.includes('settings')&&this.config.settings.includes('captions')&&b.setCaptionsMenu.call(this)},toggle:function(f){var h=this,i=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],j,l,d,m,k;if(!this.supported.ui)return;if(j=this.captions.toggled,l=this.config.classNames.captions.active,d=a.nullOrUndefined(f)?!j:f,d!==j){if(i||(this.captions.active=d,this.storage.set({captions:d})),!this.language&&d&&!i){m=g.getTracks.call(this),k=g.findTrack.call(this,[this.captions.language].concat(ax(this.captions.languages)),!0),this.captions.language=k.language,g.set.call(this,m.indexOf(k));return}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=d),e(this.elements.container,l,d),this.captions.toggled=d,b.updateSetting.call(this,'captions'),c.call(this,this.media,d?'captionsenabled':'captionsdisabled')}setTimeout(function(){d&&h.captions.toggled&&(h.captions.currentTrackNode.mode='hidden')})},set:function(d){var f=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],h=g.getTracks.call(this),i,j,e;if(d===-1){g.toggle.call(this,!1,f);return}if(!a.number(d)){this.debug.warn('Invalid caption argument',d);return}if(!(d in h)){this.debug.warn('Track not found',d);return}this.captions.currentTrack!==d&&(this.captions.currentTrack=d,i=h[d],j=i||{},e=j.language,this.captions.currentTrackNode=i,b.updateSetting.call(this,'captions'),f||(this.captions.language=e,this.storage.set({language:e})),this.isVimeo&&this.embed.enableTextTrack(e),c.call(this,this.media,'languagechange')),g.toggle.call(this,!0,f),this.isHTML5&&this.isVideo&&g.updateCues.call(this)},setLanguage:function(b){var d=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],c,e,f;if(!a.string(b)){this.debug.warn('Invalid language argument',b);return}c=b.toLowerCase(),this.captions.language=c,e=g.getTracks.call(this),f=g.findTrack.call(this,[c]),g.set.call(this,e.indexOf(f),d)},getTracks:function(){var a=this,b=!!(arguments.length>0&&arguments[0]!==void 0)&&arguments[0],c=Array.from((this.media||{}).textTracks||[]);return c.filter(function(c){return!a.isHTML5||b||a.captions.meta.has(c)}).filter(function(a){return['captions','subtitles'].includes(a.kind)})},findTrack:function(h){var d=this,e=!!(arguments.length>1&&arguments[1]!==void 0)&&arguments[1],f=g.getTracks.call(this),c=function(a){return Number((d.captions.meta.get(a)||{}).default)},b=Array.from(f).sort(function(a,b){return c(b)-c(a)}),a;return h.every(function(c){return a=b.find(function(a){return a.language===c}),!a}),a||(e?b[0]:void 0)},getCurrentTrack:function(){return g.getTracks.call(this)[this.currentTrack]},getLabel:function(c){var b=c;return(!a.track(b)&&i.textTracks&&this.captions.toggled&&(b=g.getCurrentTrack.call(this)),a.track(b))?a.empty(b.label)?a.empty(b.language)?k.get('enabled',this.config):c.language.toUpperCase():b.label:k.get('disabled',this.config)},updateCues:function(b){var e,i,h,j,f;if(!this.supported.ui)return;if(!a.element(this.elements.captions)){this.debug.warn('No captions element to render to');return}if(!a.nullOrUndefined(b)&&!Array.isArray(b)){this.debug.warn('updateCues: Invalid input',b);return}e=b,e||(i=g.getCurrentTrack.call(this),e=Array.from((i||{}).activeCues||[]).map(function(a){return a.getCueAsHTML()}).map(bt)),h=e.map(function(a){return a.trim()}).join('\n'),j=h!==this.elements.captions.innerHTML,j&&(V(this.elements.captions),f=d('span',r(this.config.selectors.caption)),f.innerHTML=h,this.elements.captions.appendChild(f),c.call(this,this.media,'cuechange'))}},aq={enabled:!0,title:'',debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:'plyr',iconUrl:'https://cdn.plyr.io/3.6.3/plyr.svg',blankVideo:'https://cdn.plyr.io/static/blank.mp4',quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:'auto',update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:'plyr'},controls:['play-large','play','progress','current-time','mute','volume','captions','settings','pip','airplay','fullscreen'],settings:['captions','quality','speed'],i18n:{restart:'Restart',rewind:'Rewind {seektime}s',play:'Play',pause:'Pause',fastForward:'Forward {seektime}s',seek:'Seek',seekLabel:'{currentTime} of {duration}',played:'Played',buffered:'Buffered',currentTime:'Current time',duration:'Duration',volume:'Volume',mute:'Mute',unmute:'Unmute',enableCaptions:'Enable captions',disableCaptions:'Disable captions',download:'Download',enterFullscreen:'Enter fullscreen',exitFullscreen:'Exit fullscreen',frameTitle:'Player for {title}',captions:'Captions',settings:'Settings',pip:'PIP',menuBack:'Go back to previous menu',speed:'Speed',normal:'Normal',quality:'Quality',loop:'Loop',start:'Start',end:'End',all:'All',reset:'Reset',disabled:'Disabled',enabled:'Enabled',advertisement:'Ad',qualityBadge:{2160:'4K',1440:'HD',1080:'HD',720:'HD',576:'SD',480:'SD'}},urls:{download:null,vimeo:{sdk:'https://player.vimeo.com/api/player.js',iframe:'https://player.vimeo.com/video/{0}?{1}',api:'https://vimeo.com/api/oembed.json?url={0}'},youtube:{sdk:'https://www.youtube.com/iframe_api',api:'https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}'},googleIMA:{sdk:'https://imasdk.googleapis.com/js/sdkloader/ima3.js'}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:['ended','progress','stalled','playing','waiting','canplay','canplaythrough','loadstart','loadeddata','loadedmetadata','timeupdate','volumechange','play','pause','error','seeking','seeked','emptied','ratechange','cuechange','download','enterfullscreen','exitfullscreen','captionsenabled','captionsdisabled','languagechange','controlshidden','controlsshown','ready','statechange','qualitychange','adsloaded','adscontentpause','adscontentresume','adstarted','adsmidpoint','adscomplete','adsallcomplete','adsimpression','adsclick'],selectors:{editable:'input, textarea, select, [contenteditable]',container:'.plyr',controls:{container:null,wrapper:'.plyr__controls'},labels:'[data-plyr]',buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:'.plyr__time--current',duration:'.plyr__time--duration',buffer:'.plyr__progress__buffer',loop:'.plyr__progress__loop',volume:'.plyr__volume--display'},progress:'.plyr__progress',captions:'.plyr__captions',caption:'.plyr__caption'},classNames:{type:'plyr--{0}',provider:'plyr--{0}',video:'plyr__video-wrapper',embed:'plyr__video-embed',videoFixedRatio:'plyr__video-wrapper--fixed-ratio',embedContainer:'plyr__video-embed__container',poster:'plyr__poster',posterEnabled:'plyr__poster-enabled',ads:'plyr__ads',control:'plyr__control',controlPressed:'plyr__control--pressed',playing:'plyr--playing',paused:'plyr--paused',stopped:'plyr--stopped',loading:'plyr--loading',hover:'plyr--hover',tooltip:'plyr__tooltip',cues:'plyr__cues',hidden:'plyr__sr-only',hideControls:'plyr--hide-controls',isIos:'plyr--is-ios',isTouch:'plyr--is-touch',uiSupported:'plyr--full-ui',noTransition:'plyr--no-transition',display:{time:'plyr__time'},menu:{value:'plyr__menu__value',badge:'plyr__badge',open:'plyr--menu-open'},captions:{enabled:'plyr--captions-enabled',active:'plyr--captions-active'},fullscreen:{enabled:'plyr--fullscreen-enabled',fallback:'plyr--fullscreen-fallback'},pip:{supported:'plyr--pip-supported',active:'plyr--pip-active'},airplay:{supported:'plyr--airplay-supported',active:'plyr--airplay-active'},tabFocus:'plyr__tab-focus',previewThumbnails:{thumbContainer:'plyr__preview-thumb',thumbContainerShown:'plyr__preview-thumb--is-shown',imageContainer:'plyr__preview-thumb__image-container',timeContainer:'plyr__preview-thumb__time-container',scrubbingContainer:'plyr__preview-scrubbing',scrubbingContainerShown:'plyr__preview-scrubbing--is-shown'}},attributes:{embed:{provider:'data-plyr-provider',id:'data-plyr-embed-id'}},ads:{enabled:!1,publisherId:'',tagUrl:''},previewThumbnails:{enabled:!1,src:''},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1}},P={active:'picture-in-picture',inactive:'inline'},s={html5:'html5',youtube:'youtube',vimeo:'vimeo'},Q={audio:'audio',video:'video'};function bz(a){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(a)?s.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(a)?s.vimeo:null}R=function(){},be=function(){function a(){var b=!!(arguments.length>0&&arguments[0]!==void 0)&&arguments[0];y(this,a),this.enabled=window.console&&b,this.enabled&&this.log('Debugging enabled')}return w(a,[{key:"log",get:function(){return this.enabled?Function.prototype.bind.call(console.log,console):R}},{key:"warn",get:function(){return this.enabled?Function.prototype.bind.call(console.warn,console):R}},{key:"error",get:function(){return this.enabled?Function.prototype.bind.call(console.error,console):R}}]),a}(),bd=function(){function b(d){var c=this;y(this,b),this.player=d,this.prefix=b.prefix,this.property=b.property,this.scrollPosition={x:0,y:0},this.forceFallback=d.config.fullscreen.fallback==='force',this.player.elements.fullscreen=d.config.fullscreen.container&&bX(this.player.elements.container,d.config.fullscreen.container),f.call(this.player,document,this.prefix==='ms'?'MSFullscreenChange':"".concat(this.prefix,"fullscreenchange"),function(){c.onChange()}),f.call(this.player,this.player.elements.container,'dblclick',function(b){if(a.element(c.player.elements.controls)&&c.player.elements.controls.contains(b.target))return;c.player.listeners.proxy(b,c.toggle,'fullscreen')}),f.call(this,this.player.elements.container,'keydown',function(a){return c.trapFocus(a)}),this.update()}return w(b,[{key:"onChange",value:function(){var b,d;if(!this.enabled)return;b=this.player.elements.buttons.fullscreen,a.element(b)&&(b.pressed=this.active),d=this.target===this.player.media?this.target:this.player.elements.container,c.call(this.player,d,this.active?'enterfullscreen':'exitfullscreen',!0)}},{key:"toggleFallback",value:function(){var c=!!(arguments.length>0&&arguments[0]!==void 0)&&arguments[0],b,d,f;c?this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=c?'hidden':'',e(this.target,this.player.config.classNames.fullscreen.fallback,c),n.isIos&&(b=document.head.querySelector('meta[name="viewport"]'),d='viewport-fit=cover',b||(b=document.createElement('meta'),b.setAttribute('name','viewport')),f=a.string(b.content)&&b.content.includes(d),c?(this.cleanupViewport=!f,f||(b.content+=",".concat(d))):this.cleanupViewport&&(b.content=b.content.split(',').filter(function(a){return a.trim()!==d}).join(','))),this.onChange()}},{key:"trapFocus",value:function(a){var d,b,f,e,c;if(n.isIos||!this.active||a.key!=='Tab'||a.keyCode!==9)return;d=document.activeElement,b=D.call(this.player,'a[href], button:not(:disabled), input:not(:disabled), [tabindex]'),f=m(b,1),e=f[0],c=b[b.length-1],d===c&&!a.shiftKey?(e.focus(),a.preventDefault()):d===e&&a.shiftKey&&(c.focus(),a.preventDefault())}},{key:"update",value:function(){if(this.enabled){var a;this.forceFallback?a='Fallback (forced)':b.native?a='Native':a='Fallback',this.player.debug.log("".concat(a," fullscreen enabled"))}else this.player.debug.log('Fullscreen not supported and fallback disabled');e(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)}},{key:"enter",value:function(){if(!this.enabled)return;n.isIos&&this.player.config.fullscreen.iosNative?this.target.webkitEnterFullscreen():!b.native||this.forceFallback?this.toggleFallback(!0):this.prefix?a.empty(this.prefix)||this.target["".concat(this.prefix,"Request").concat(this.property)]():this.target.requestFullscreen({navigationUI:'hide'})}},{key:"exit",value:function(){if(!this.enabled)return;if(n.isIos&&this.player.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),q(this.player.play());else if(!b.native||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!a.empty(this.prefix)){var c=this.prefix==='moz'?'Cancel':'Exit';document["".concat(this.prefix).concat(c).concat(this.property)]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}},{key:"toggle",value:function(){this.active?this.exit():this.enter()}},{key:"usingNative",get:function(){return b.native&&!this.forceFallback}},{key:"enabled",get:function(){return(b.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}},{key:"active",get:function(){if(!this.enabled)return!1;if(!b.native||this.forceFallback)return Y(this.target,this.player.config.classNames.fullscreen.fallback);var a=this.prefix?document["".concat(this.prefix).concat(this.property,"Element")]:document.fullscreenElement;return a&&a.shadowRoot?a===this.target.getRootNode().host:a===this.target}},{key:"target",get:function(){return n.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen||this.player.elements.container}}],[{key:"native",get:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}},{key:"prefix",get:function(){var b,c;return a.function(document.exitFullscreen)?'':(b='',c=['webkit','moz','ms'],c.some(function(c){return!!(a.function(document["".concat(c,"ExitFullscreen")])||a.function(document["".concat(c,"CancelFullScreen")]))&&(b=c,!0)}),b)}},{key:"property",get:function(){return this.prefix==='moz'?'FullScreen':'Fullscreen'}}]),b}();function S(a){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return new Promise(function(e,f){var c=new Image,d=function(){delete c.onload,delete c.onerror,(c.naturalWidth>=b?e:f)(c)};Object.assign(c,{onload:d,onerror:d,src:a})})}h={addStyleHook:function(){e(this.elements.container,this.config.selectors.container.replace('.',''),!0),e(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls:function(){var a=!!(arguments.length>0&&arguments[0]!==void 0)&&arguments[0];a&&this.isHTML5?this.media.setAttribute('controls',''):this.media.removeAttribute('controls')},build:function(){var d=this;if(this.listeners.media(),!this.supported.ui){this.debug.warn("Basic support only for ".concat(this.provider," ").concat(this.type)),h.toggleNativeControls.call(this,!0);return}a.element(this.elements.controls)||(b.inject.call(this),this.listeners.controls()),h.toggleNativeControls.call(this),this.isHTML5&&g.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,b.updateVolume.call(this),b.timeUpdate.call(this),h.checkPlaying.call(this),e(this.elements.container,this.config.classNames.pip.supported,i.pip&&this.isHTML5&&this.isVideo),e(this.elements.container,this.config.classNames.airplay.supported,i.airplay&&this.isHTML5),e(this.elements.container,this.config.classNames.isIos,n.isIos),e(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(function(){c.call(d,d.media,'ready')},0),h.setTitle.call(this),this.poster&&h.setPoster.call(this,this.poster,!1).catch(function(){}),this.config.duration&&b.durationUpdate.call(this)},setTitle:function(){var b=k.get('play',this.config),c,d,e;if(a.string(this.config.title)&&!a.empty(this.config.title)&&(b+=", ".concat(this.config.title)),Array.from(this.elements.buttons.play||[]).forEach(function(a){a.setAttribute('aria-label',b)}),this.isEmbed){if(c=l.call(this,'iframe'),!a.element(c))return;d=a.empty(this.config.title)?'video':this.config.title,e=k.get('frameTitle',this.config),c.setAttribute('title',e.replace('{title}',d))}},togglePoster:function(a){e(this.elements.container,this.config.classNames.posterEnabled,a)},setPoster:function(a){var b=this,c=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return c&&this.poster?Promise.reject(new Error('Poster already set')):(this.media.setAttribute('data-poster',a),this.elements.poster.removeAttribute('hidden'),bS.call(this).then(function(){return S(a)}).catch(function(c){throw a===b.poster&&h.togglePoster.call(b,!1),c}).then(function(){if(a!==b.poster)throw new Error('setPoster cancelled by later call to setPoster')}).then(function(){return Object.assign(b.elements.poster.style,{backgroundImage:"url('".concat(a,"')"),backgroundSize:''}),h.togglePoster.call(b,!0),a}))},checkPlaying:function(c){var b=this;if(e(this.elements.container,this.config.classNames.playing,this.playing),e(this.elements.container,this.config.classNames.paused,this.paused),e(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(function(a){Object.assign(a,{pressed:b.playing}),a.setAttribute('aria-label',k.get(b.playing?'pause':'play',b.config))}),a.event(c)&&c.type==='timeupdate')return;h.toggleControls.call(this)},checkLoading:function(b){var a=this;this.loading=['stalled','waiting'].includes(b.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(function(){e(a.elements.container,a.config.classNames.loading,a.loading),h.toggleControls.call(a)},this.loading?250:0)},toggleControls:function(b){var a=this.elements.controls,c;a&&this.config.hideControls&&(c=this.touch&&this.lastSeekTime+2e3>Date.now(),this.toggleControls(Boolean(b||this.loading||this.paused||a.pressed||a.hover||c)))},migrateStyles:function(){var b=this;Object.values(E({},this.media.style)).filter(function(b){return!a.empty(b)&&a.string(b)&&b.startsWith('--plyr')}).forEach(function(a){b.elements.container.style.setProperty(a,b.media.style.getPropertyValue(a)),b.media.style.removeProperty(a)}),a.empty(this.media.style)&&this.media.removeAttribute('style')}},bc=function(){function d(a){y(this,d),this.player=a,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.setTabFocus=this.setTabFocus.bind(this),this.firstTouch=this.firstTouch.bind(this)}return w(d,[{key:"handleKey",value:function(c){var b=this.player,h=b.elements,d=c.keyCode?c.keyCode:c.which,g=c.type==='keydown',e=g&&d===this.lastKey,i,f,j,k,l;if(c.altKey||c.ctrlKey||c.metaKey||c.shiftKey)return;if(!a.number(d))return;if(i=function(){b.currentTime=b.duration/10*(d-48)},g){if(f=document.activeElement,a.element(f)){if(j=b.config.selectors.editable,k=h.inputs.seek,f!==k&&x(f,j))return;if(c.which===32&&x(f,'button, [role^="menuitem"]'))return}switch(l=[32,37,38,39,40,48,49,50,51,52,53,54,56,57,67,70,73,75,76,77,79],l.includes(d)&&(c.preventDefault(),c.stopPropagation()),d){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:e||i();break;case 32:case 75:e||q(b.togglePlay());break;case 38:b.increaseVolume(.1);break;case 40:b.decreaseVolume(.1);break;case 77:e||(b.muted=!b.muted);break;case 39:b.forward();break;case 37:b.rewind();break;case 70:b.fullscreen.toggle();break;case 67:e||b.toggleCaptions();break;case 76:b.loop=!b.loop;break}d===27&&!b.fullscreen.usingNative&&b.fullscreen.active&&b.fullscreen.toggle(),this.lastKey=d}else this.lastKey=null}},{key:"toggleMenu",value:function(a){b.toggleMenu.call(this.player,a)}},{key:"firstTouch",value:function(){var a=this.player,b=a.elements;a.touch=!0,e(b.container,a.config.classNames.isTouch,!0)}},{key:"setTabFocus",value:function(a){var b=this.player,c=b.elements,d,f;if(clearTimeout(this.focusTimer),a.type==='keydown'&&a.which!==9)return;if(a.type==='keydown'&&(this.lastKeyDown=a.timeStamp),d=function(){var a=b.config.classNames.tabFocus,c=D.call(b,".".concat(a));e(c,a,!1)},f=a.timeStamp-this.lastKeyDown<=20,a.type==='focus'&&!f)return;d(),a.type!=='focusout'&&(this.focusTimer=setTimeout(function(){var a=document.activeElement;if(!c.container.contains(a))return;e(document.activeElement,b.config.classNames.tabFocus,!0)},10))}},{key:"global",value:function(){var b=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],a=this.player;a.config.keyboard.global&&F.call(a,window,'keydown keyup',this.handleKey,b,!1),F.call(a,document.body,'click',this.toggleMenu,b),ad.call(a,document.body,'touchstart',this.firstTouch),F.call(a,document.body,'keydown focus blur focusout',this.setTabFocus,b,!1,!0)}},{key:"container",value:function(){var b=this.player,g=b.config,c=b.elements,d=b.timers,j,e,i;!g.keyboard.global&&g.keyboard.focused&&f.call(b,c.container,'keydown keyup',this.handleKey,!1),f.call(b,c.container,'mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen',function(e){var a=c.controls,g,f;a&&e.type==='enterfullscreen'&&(a.pressed=!1,a.hover=!1),g=['touchstart','touchmove','mousemove'].includes(e.type),f=0,g&&(h.toggleControls.call(b,!0),f=b.touch?3e3:2e3),clearTimeout(d.controls),d.controls=setTimeout(function(){return h.toggleControls.call(b,!1)},f)}),j=function(j,l,f){var c,g,d,e,a,h,i;if(!b.isVimeo||b.config.vimeo.premium)return;c=b.elements.wrapper.firstChild,g=m(j,2),d=g[1],e=ab.call(b),a=m(e,2),h=a[0],i=a[1],c.style.maxWidth=f?"".concat(d/i*h,"px"):null,c.style.margin=f?'0 auto':null},e=function(f){var a,d,e;return f?(a=c.container.getBoundingClientRect(),d=a.width,e=a.height,v.call(b,"".concat(d,":").concat(e))):v.call(b)},i=function(){clearTimeout(d.resized),d.resized=setTimeout(e,50)},f.call(b,c.container,'enterfullscreen exitfullscreen',function(k){var g=b.fullscreen,l=g.target,m=g.usingNative,d,h,n,o;if(l!==c.container)return;if(!b.isEmbed&&a.empty(b.config.ratio))return;d=k.type==='enterfullscreen',h=e(d),n=h.padding,o=h.ratio,j(o,n,d),d&&setTimeout(function(){return am(c.container)},100),m||(d?f.call(b,window,'resize',i):L.call(b,window,'resize',i))})}},{key:"media",value:function(){var g=this,d=this.player,e=d.elements,i,j;if(f.call(d,d.media,'timeupdate seeking seeked',function(a){return b.timeUpdate.call(d,a)}),f.call(d,d.media,'durationchange loadeddata loadedmetadata',function(a){return b.durationUpdate.call(d,a)}),f.call(d,d.media,'ended',function(){d.isHTML5&&d.isVideo&&d.config.resetOnEnd&&(d.restart(),d.pause())}),f.call(d,d.media,'progress playing seeking seeked',function(a){return b.updateProgress.call(d,a)}),f.call(d,d.media,'volumechange',function(a){return b.updateVolume.call(d,a)}),f.call(d,d.media,'playing play pause ended emptied timeupdate',function(a){return h.checkPlaying.call(d,a)}),f.call(d,d.media,'waiting canplay seeked playing',function(a){return h.checkLoading.call(d,a)}),d.supported.ui&&d.config.clickToPlay&&!d.isAudio){if(i=l.call(d,".".concat(d.config.classNames.video)),!a.element(i))return;f.call(d,e.container,'click',function(a){var b=[e.container,i];if(!b.includes(a.target)&&!i.contains(a.target))return;if(d.touch&&d.config.hideControls)return;d.ended?(g.proxy(a,d.restart,'restart'),g.proxy(a,function(){q(d.play())},'play')):g.proxy(a,function(){q(d.togglePlay())},'play')})}d.supported.ui&&d.config.disableContextMenu&&f.call(d,e.wrapper,'contextmenu',function(a){a.preventDefault()},!1),f.call(d,d.media,'volumechange',function(){d.storage.set({volume:d.volume,muted:d.muted})}),f.call(d,d.media,'ratechange',function(){b.updateSetting.call(d,'speed'),d.storage.set({speed:d.speed})}),f.call(d,d.media,'qualitychange',function(a){b.updateSetting.call(d,'quality',null,a.detail.quality)}),f.call(d,d.media,'ready qualitychange',function(){b.setDownloadUrl.call(d)}),j=d.config.events.concat(['keyup','keydown']).join(' '),f.call(d,d.media,j,function(a){var b=a.detail,f=b===void 0?{}:b;a.type==='error'&&(f=d.media.error),c.call(d,e.container,a.type,!0,f)})}},{key:"proxy",value:function(c,d,h){var b=this.player,e=b.config.listeners[h],g=a.function(e),f=!0;g&&(f=e.call(b,c)),f!==!1&&a.function(d)&&d.call(b,c)}},{key:"bind",value:function(i,e,g,c){var h=this,d=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],b=this.player,j=b.config.listeners[c],k=a.function(j);f.call(b,i,e,function(a){return h.proxy(a,g,c)},d&&!k)}},{key:"controls",value:function(){var g=this,d=this.player,f=d.elements,i=n.isIE?'change':'input',j;f.buttons.play&&Array.from(f.buttons.play).forEach(function(a){g.bind(a,'click',function(){q(d.togglePlay())},'play')}),this.bind(f.buttons.restart,'click',d.restart,'restart'),this.bind(f.buttons.rewind,'click',function(){d.lastSeekTime=Date.now(),d.rewind()},'rewind'),this.bind(f.buttons.fastForward,'click',function(){d.lastSeekTime=Date.now(),d.forward()},'fastForward'),this.bind(f.buttons.mute,'click',function(){d.muted=!d.muted},'mute'),this.bind(f.buttons.captions,'click',function(){return d.toggleCaptions()}),this.bind(f.buttons.download,'click',function(){c.call(d,d.media,'download')},'download'),this.bind(f.buttons.fullscreen,'click',function(){d.fullscreen.toggle()},'fullscreen'),this.bind(f.buttons.pip,'click',function(){d.pip='toggle'},'pip'),this.bind(f.buttons.airplay,'click',d.airplay,'airplay'),this.bind(f.buttons.settings,'click',function(a){a.stopPropagation(),a.preventDefault(),b.toggleMenu.call(d,a)},null,!1),this.bind(f.buttons.settings,'keyup',function(a){var c=a.which;if(![13,32].includes(c))return;if(c===13){b.focusFirstMenuItem.call(d,null,!0);return}a.preventDefault(),a.stopPropagation(),b.toggleMenu.call(d,a)},null,!1),this.bind(f.settings.menu,'keydown',function(a){a.which===27&&b.toggleMenu.call(d,a)}),this.bind(f.inputs.seek,'mousedown mousemove',function(a){var b=f.progress.getBoundingClientRect(),c=100/b.width*(a.pageX-b.left);a.currentTarget.setAttribute('seek-value',c)}),this.bind(f.inputs.seek,'mousedown mouseup keydown keyup touchstart touchend',function(b){var c=b.currentTarget,f=b.keyCode?b.keyCode:b.which,e='play-on-seeked',h,g;if(a.keyboardEvent(b)&&f!==39&&f!==37)return;d.lastSeekTime=Date.now(),h=c.hasAttribute(e),g=['mouseup','touchend','keyup'].includes(b.type),h&&g?(c.removeAttribute(e),q(d.play())):!g&&d.playing&&(c.setAttribute(e,''),d.pause())}),n.isIos&&(j=D.call(d,'input[type="range"]'),Array.from(j).forEach(function(a){return g.bind(a,i,function(a){return am(a.target)})})),this.bind(f.inputs.seek,i,function(e){var b=e.currentTarget,c=b.getAttribute('seek-value');a.empty(c)&&(c=b.value),b.removeAttribute('seek-value'),d.currentTime=c/b.max*d.duration},'seek'),this.bind(f.progress,'mouseenter mouseleave mousemove',function(a){return b.updateSeekTooltip.call(d,a)}),this.bind(f.progress,'mousemove touchmove',function(b){var a=d.previewThumbnails;a&&a.loaded&&a.startMove(b)}),this.bind(f.progress,'mouseleave touchend click',function(){var a=d.previewThumbnails;a&&a.loaded&&a.endMove(!1,!0)}),this.bind(f.progress,'mousedown touchstart',function(b){var a=d.previewThumbnails;a&&a.loaded&&a.startScrubbing(b)}),this.bind(f.progress,'mouseup touchend',function(b){var a=d.previewThumbnails;a&&a.loaded&&a.endScrubbing(b)}),n.isWebkit&&Array.from(D.call(d,'input[type="range"]')).forEach(function(a){g.bind(a,'input',function(a){return b.updateRangeFill.call(d,a.target)})}),d.config.toggleInvert&&!a.element(f.display.duration)&&this.bind(f.display.currentTime,'click',function(){if(d.currentTime===0)return;d.config.invertTime=!d.config.invertTime,b.timeUpdate.call(d)}),this.bind(f.inputs.volume,i,function(a){d.volume=a.target.value},'volume'),this.bind(f.controls,'mouseenter mouseleave',function(a){f.controls.hover=!d.touch&&a.type==='mouseenter'}),f.fullscreen&&Array.from(f.fullscreen.children).filter(function(a){return!a.contains(f.container)}).forEach(function(a){g.bind(a,'mouseenter mouseleave',function(a){f.controls.hover=!d.touch&&a.type==='mouseenter'})}),this.bind(f.controls,'mousedown mouseup touchstart touchend touchcancel',function(a){f.controls.pressed=['mousedown','touchstart'].includes(a.type)}),this.bind(f.controls,'focusin',function(){var a=d.config,b=d.timers,c;e(f.controls,a.classNames.noTransition,!0),h.toggleControls.call(d,!0),setTimeout(function(){e(f.controls,a.classNames.noTransition,!1)},0),c=g.touch?3e3:4e3,clearTimeout(b.controls),b.controls=setTimeout(function(){return h.toggleControls.call(d,!1)},c)}),this.bind(f.inputs.volume,'wheel',function(a){var i=a.webkitDirectionInvertedFromDevice,h=[a.deltaX,-a.deltaY].map(function(a){return i?-a:a}),e=m(h,2),f=e[0],g=e[1],b=Math.sign(Math.abs(f)>Math.abs(g)?f:g),c;d.increaseVolume(b/50),c=d.media.volume,(b===1&&c<1||b===-1&&c>0)&&a.preventDefault()},'volume',!1)}}]),d}(),bn=typeof globalThis!='undefined'?globalThis:typeof window!='undefined'?window:typeof global!='undefined'?global:typeof self!='undefined'?self:{};function bH(b,a){return a={exports:{}},b(a,a.exports),a.exports}bb=bH(function(a,b){(function(c,b){a.exports=b()})(bn,function(){var d=function(){},b={},e={},c={};function i(a,k){a=a.push?a:[a];var h=[],f=a.length,i=f,g,b,d,j;for(g=function(a,b){b.length&&h.push(a),i--,i||k(h)};f--;){if(b=a[f],d=e[b],d){g(b,d);continue}j=c[b]=c[b]||[],j.push(g)}}function g(a,d){if(!a)return;var b=c[a];if(e[a]=d,!b)return;while(b.length)b[0](a,d),b.splice(0,1)}function f(a,b){a.call&&(a={success:a}),b.length?(a.error||d)(b):(a.success||d)(a)}function h(b,i,e,c){var f=document,l=e.async,m=(e.numRetries||0)+1,n=e.before||d,j=b.replace(/[\?|#].*$/,''),k=b.replace(/^(css|img)!/,''),g,a;c=c||0,/(^css!|\.css$)/.test(j)?(a=f.createElement('link'),a.rel='stylesheet',a.href=k,g='hideFocus'in a,g&&a.relList&&(g=0,a.rel='preload',a.as='style')):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(j)?(a=f.createElement('img'),a.src=k):(a=f.createElement('script'),a.src=b,a.async=l===void 0||l),a.onload=a.onerror=a.onbeforeload=function(f){var d=f.type[0];if(g)try{a.sheet.cssText.length||(d='e')}catch(a){a.code!=18&&(d='e')}if(d=='e'){if(c+=1,c<m)return h(b,i,e,c)}else if(a.rel=='preload'&&a.as=='style')return a.rel='stylesheet';i(b,d,f.defaultPrevented)},n(b,a)!==!1&&f.head.appendChild(a)}function j(a,i,f){a=a.push?a:[a];var c=a.length,g=c,d=[],e,b;e=function(a,b,e){if(b=='e'&&d.push(a),b=='b')if(e)d.push(a);else return;c--,c||i(d)};for(b=0;b<g;b++)h(a[b],e,f)}function a(h,c,i){var a,d;if(c&&c.trim&&(a=c),d=(a?i:c)||{},a){if(a in b)throw"LoadJS";b[a]=!0}function e(b,c){j(h,function(e){f(d,e),b&&f({success:b,error:c},e),g(a,e)},d)}if(d.returnPromise)return new Promise(e);e()}return a.ready=function(b,c){return i(b,function(a){f(c,a)}),a},a.done=function(a){g(a,[])},a.reset=function(){b={},e={},c={}},a.isDefined=function(a){return a in b},a})});function aw(a){return new Promise(function(b,c){bb(a,{success:b,error:c})})}function bK(b){if(a.empty(b))return null;if(a.number(Number(b)))return b;var c=/^.*(vimeo.com\/|video\/)(\d+).*/;return b.match(c)?RegExp.$2:b}function G(a){a&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===a&&(this.media.paused=!a,c.call(this,this.media,a?'play':'pause'))}T={setup:function(){var b=this;e(b.elements.wrapper,b.config.classNames.embed,!0),b.options.speed=b.config.speed.options,v.call(b),a.object(window.Vimeo)?T.ready.call(b):aw(b.config.urls.vimeo.sdk).then(function(){T.ready.call(b)}).catch(function(a){b.debug.warn('Vimeo SDK (player.js) failed to load',a)})},ready:function(){var k=this,e=this,i=e.config.vimeo,u=i.premium,r=i.referrerPolicy,p=bR(i,["premium","referrerPolicy"]),z,j,y,f,s,t,l,w,x,n,o,q;u&&Object.assign(p,{controls:!1,sidedock:!1}),z=bh(E({loop:e.config.loop.active,autoplay:e.autoplay,muted:e.muted,gesture:'media',playsinline:!this.config.fullscreen.iosNative},p)),j=e.media.getAttribute('src'),a.empty(j)&&(j=e.media.getAttribute(e.config.attributes.embed.id)),y=bK(j),f=d('iframe'),s=ae(e.config.urls.vimeo.iframe,y,z),f.setAttribute('src',s),f.setAttribute('allowfullscreen',''),f.setAttribute('allow','autoplay,fullscreen,picture-in-picture'),a.empty(r)||f.setAttribute('referrerPolicy',r),u||!i.customControls?(f.setAttribute('data-poster',e.poster),e.media=X(f,e.media)):(t=d('div',{class:e.config.classNames.embedContainer,'data-poster':e.poster}),t.appendChild(f),e.media=X(t,e.media)),i.customControls||J(ae(e.config.urls.vimeo.api,s)).then(function(b){if(a.empty(b)||!b.thumbnail_url)return;h.setPoster.call(e,b.thumbnail_url).catch(function(){})}),e.embed=new window.Vimeo.Player(f,{autopause:e.config.autopause,muted:e.muted}),e.media.paused=!0,e.media.currentTime=0,e.supported.ui&&e.embed.disableTextTrack(),e.media.play=function(){return G.call(e,!0),e.embed.play()},e.media.pause=function(){return G.call(e,!1),e.embed.pause()},e.media.stop=function(){e.pause(),e.currentTime=0},l=e.media.currentTime,Object.defineProperty(e.media,'currentTime',{get:function(){return l},set:function(f){var a=e.embed,d=e.media,g=e.paused,h=e.volume,b=g&&!a.hasPlayed;d.seeking=!0,c.call(e,d,'seeking'),Promise.resolve(b&&a.setVolume(0)).then(function(){return a.setCurrentTime(f)}).then(function(){return b&&a.pause()}).then(function(){return b&&a.setVolume(h)}).catch(function(){})}}),w=e.config.speed.selected,Object.defineProperty(e.media,'playbackRate',{get:function(){return w},set:function(a){e.embed.setPlaybackRate(a).then(function(){w=a,c.call(e,e.media,'ratechange')}).catch(function(){e.options.speed=[1]})}}),x=e.config.volume,Object.defineProperty(e.media,'volume',{get:function(){return x},set:function(a){e.embed.setVolume(a).then(function(){x=a,c.call(e,e.media,'volumechange')})}}),n=e.config.muted,Object.defineProperty(e.media,'muted',{get:function(){return n},set:function(b){var d=!!a.boolean(b)&&b;e.embed.setVolume(d?0:e.config.volume).then(function(){n=d,c.call(e,e.media,'volumechange')})}}),o=e.config.loop,Object.defineProperty(e.media,'loop',{get:function(){return o},set:function(b){var c=a.boolean(b)?b:e.config.loop.active;e.embed.setLoop(c).then(function(){o=c})}}),e.embed.getVideoUrl().then(function(a){q=a,b.setDownloadUrl.call(e)}).catch(function(a){k.debug.warn(a)}),Object.defineProperty(e.media,'currentSrc',{get:function(){return q}}),Object.defineProperty(e.media,'ended',{get:function(){return e.currentTime===e.duration}}),Promise.all([e.embed.getVideoWidth(),e.embed.getVideoHeight()]).then(function(b){var a=m(b,2),c=a[0],d=a[1];e.embed.ratio=[c,d],v.call(k)}),e.embed.setAutopause(e.config.autopause).then(function(a){e.config.autopause=a}),e.embed.getVideoTitle().then(function(a){e.config.title=a,h.setTitle.call(k)}),e.embed.getCurrentTime().then(function(a){l=a,c.call(e,e.media,'timeupdate')}),e.embed.getDuration().then(function(a){e.media.duration=a,c.call(e,e.media,'durationchange')}),e.embed.getTextTracks().then(function(a){e.media.textTracks=a,g.setup.call(e)}),e.embed.on('cuechange',function(b){var a=b.cues,c=a===void 0?[]:a,d=c.map(function(a){return bw(a.text)});g.updateCues.call(e,d)}),e.embed.on('loaded',function(){if(e.embed.getPaused().then(function(a){G.call(e,!a),a||c.call(e,e.media,'playing')}),a.element(e.embed.element)&&e.supported.ui){var b=e.embed.element;b.setAttribute('tabindex',-1)}}),e.embed.on('bufferstart',function(){c.call(e,e.media,'waiting')}),e.embed.on('bufferend',function(){c.call(e,e.media,'playing')}),e.embed.on('play',function(){G.call(e,!0),c.call(e,e.media,'playing')}),e.embed.on('pause',function(){G.call(e,!1)}),e.embed.on('timeupdate',function(a){e.media.seeking=!1,l=a.seconds,c.call(e,e.media,'timeupdate')}),e.embed.on('progress',function(a){e.media.buffered=a.percent,c.call(e,e.media,'progress'),parseInt(a.percent,10)===1&&c.call(e,e.media,'canplaythrough'),e.embed.getDuration().then(function(a){a!==e.media.duration&&(e.media.duration=a,c.call(e,e.media,'durationchange'))})}),e.embed.on('seeked',function(){e.media.seeking=!1,c.call(e,e.media,'seeked')}),e.embed.on('ended',function(){e.media.paused=!0,c.call(e,e.media,'ended')}),e.embed.on('error',function(a){e.media.error=a,c.call(e,e.media,'error')}),i.customControls&&setTimeout(function(){return h.build.call(e)},0)}};function bN(b){if(a.empty(b))return null;var c=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/;return b.match(c)?RegExp.$2:b}function H(a){a&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===a&&(this.media.paused=!a,c.call(this,this.media,a?'play':'pause'))}function bP(a){return a.noCookie?'https://www.youtube-nocookie.com':window.location.protocol==='http:'?'http://www.youtube.com':void 0}I={setup:function(){var b=this,c;e(this.elements.wrapper,this.config.classNames.embed,!0),a.object(window.YT)&&a.function(window.YT.Player)?I.ready.call(this):(c=window.onYouTubeIframeAPIReady,window.onYouTubeIframeAPIReady=function(){a.function(c)&&c(),I.ready.call(b)},aw(this.config.urls.youtube.sdk).catch(function(a){b.debug.warn('YouTube API failed to load',a)}))},getTitle:function(c){var b=this,d=ae(this.config.urls.youtube.api,c);J(d).then(function(c){if(a.object(c)){var d=c.title,e=c.height,f=c.width;b.config.title=d,h.setTitle.call(b),b.embed.ratio=[f,e]}v.call(b)}).catch(function(){v.call(b)})},ready:function(){var b=this,e=b.config.youtube,k=b.media&&b.media.getAttribute('id'),f,g,l,m,i;if(!a.empty(k)&&k.startsWith('youtube-'))return;f=b.media.getAttribute('src'),a.empty(f)&&(f=b.media.getAttribute(this.config.attributes.embed.id)),g=bN(f),l=bJ(b.provider),m=d('div',{id:l,'data-poster':e.customControls?b.poster:void 0}),b.media=X(m,b.media),e.customControls&&(i=function(a){return"https://i.ytimg.com/vi/".concat(g,"/").concat(a,"default.jpg")},S(i('maxres'),121).catch(function(){return S(i('sd'),121)}).catch(function(){return S(i('hq'))}).then(function(a){return h.setPoster.call(b,a.src)}).then(function(a){a.includes('maxres')||(b.elements.poster.style.backgroundSize='cover')}).catch(function(){})),b.embed=new window.YT.Player(b.media,{videoId:g,host:bP(e),playerVars:j({},{autoplay:b.config.autoplay?1:0,hl:b.config.hl,controls:b.supported.ui&&e.customControls?0:1,disablekb:1,playsinline:b.config.fullscreen.iosNative?0:1,cc_load_policy:b.captions.active?1:0,cc_lang_pref:b.config.captions.language,widget_referrer:window?window.location.href:null},e),events:{onError:function(e){var a,d;b.media.error||(a=e.data,d={2:'The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.',5:'The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.',100:'The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.',101:'The owner of the requested video does not allow it to be played in embedded players.',150:'The owner of the requested video does not allow it to be played in embedded players.'}[a]||'An unknown error occured',b.media.error={code:a,message:d},c.call(b,b.media,'error'))},onPlaybackRateChange:function(a){var d=a.target;b.media.playbackRate=d.getPlaybackRate(),c.call(b,b.media,'ratechange')},onReady:function(k){var d,f,i,j;if(a.function(b.media.play))return;d=k.target,I.getTitle.call(b,g),b.media.play=function(){H.call(b,!0),d.playVideo()},b.media.pause=function(){H.call(b,!1),d.pauseVideo()},b.media.stop=function(){d.stopVideo()},b.media.duration=d.getDuration(),b.media.paused=!0,b.media.currentTime=0,Object.defineProperty(b.media,'currentTime',{get:function(){return Number(d.getCurrentTime())},set:function(a){b.paused&&!b.embed.hasPlayed&&b.embed.mute(),b.media.seeking=!0,c.call(b,b.media,'seeking'),d.seekTo(a)}}),Object.defineProperty(b.media,'playbackRate',{get:function(){return d.getPlaybackRate()},set:function(a){d.setPlaybackRate(a)}}),f=b.config.volume,Object.defineProperty(b.media,'volume',{get:function(){return f},set:function(a){f=a,d.setVolume(f*100),c.call(b,b.media,'volumechange')}}),i=b.config.muted,Object.defineProperty(b.media,'muted',{get:function(){return i},set:function(e){var g=a.boolean(e)?e:i;i=g,d[g?'mute':'unMute'](),d.setVolume(f*100),c.call(b,b.media,'volumechange')}}),Object.defineProperty(b.media,'currentSrc',{get:function(){return d.getVideoUrl()}}),Object.defineProperty(b.media,'ended',{get:function(){return b.currentTime===b.duration}}),j=d.getAvailablePlaybackRates(),b.options.speed=j.filter(function(a){return b.config.speed.options.includes(a)}),b.supported.ui&&e.customControls&&b.media.setAttribute('tabindex',-1),c.call(b,b.media,'timeupdate'),c.call(b,b.media,'durationchange'),clearInterval(b.timers.buffering),b.timers.buffering=setInterval(function(){b.media.buffered=d.getVideoLoadedFraction(),(b.media.lastBuffered===null||b.media.lastBuffered<b.media.buffered)&&c.call(b,b.media,'progress'),b.media.lastBuffered=b.media.buffered,b.media.buffered===1&&(clearInterval(b.timers.buffering),c.call(b,b.media,'canplaythrough'))},200),e.customControls&&setTimeout(function(){return h.build.call(b)},50)},onStateChange:function(d){var a=d.target,f;switch(clearInterval(b.timers.playing),f=b.media.seeking&&[1,2].includes(d.data),f&&(b.media.seeking=!1,c.call(b,b.media,'seeked')),d.data){case-1:c.call(b,b.media,'timeupdate'),b.media.buffered=a.getVideoLoadedFraction(),c.call(b,b.media,'progress');break;case 0:H.call(b,!1),b.media.loop?(a.stopVideo(),a.playVideo()):c.call(b,b.media,'ended');break;case 1:e.customControls&&!b.config.autoplay&&b.media.paused&&!b.embed.hasPlayed?b.media.pause():(H.call(b,!0),c.call(b,b.media,'playing'),b.timers.playing=setInterval(function(){c.call(b,b.media,'timeupdate')},50),b.media.duration!==a.getDuration()&&(b.media.duration=a.getDuration(),c.call(b,b.media,'durationchange')));break;case 2:b.muted||b.embed.unMute(),H.call(b,!1);break;case 3:c.call(b,b.media,'waiting');break}c.call(b,b.elements.container,'statechange',!1,{code:d.data})}}})}},ay={setup:function(){if(!this.media){this.debug.warn('No media element found!');return}e(this.elements.container,this.config.classNames.type.replace('{0}',this.type),!0),e(this.elements.container,this.config.classNames.provider.replace('{0}',this.provider),!0),this.isEmbed&&e(this.elements.container,this.config.classNames.type.replace('{0}','video'),!0),this.isVideo&&(this.elements.wrapper=d('div',{class:this.config.classNames.video}),aH(this.media,this.elements.wrapper),this.elements.poster=d('div',{class:this.config.classNames.poster,hidden:''}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?u.setup.call(this):this.isYouTube?I.setup.call(this):this.isVimeo&&T.setup.call(this)}},aS=function(a){a.manager&&a.manager.destroy(),a.elements.displayContainer&&a.elements.displayContainer.destroy(),a.elements.container.remove()},aR=function(){function b(a){var c=this;y(this,b),this.player=a,this.config=a.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise(function(a,b){c.on('loaded',a),c.on('error',b)}),this.load()}return w(b,[{key:"load",value:function(){var b=this;if(!this.enabled)return;!a.object(window.google)||!a.object(window.google.ima)?aw(this.player.config.urls.googleIMA.sdk).then(function(){b.ready()}).catch(function(){b.trigger('error',new Error('Google IMA SDK failed to load'))}):this.ready()}},{key:"ready",value:function(){var a=this;this.enabled||aS(this),this.startSafetyTimer(12e3,'ready()'),this.managerPromise.then(function(){a.clearSafetyTimer('onAdsManagerLoaded()')}),this.listeners(),this.setupIMA()}},{key:"setupIMA",value:function(){var a=this;this.elements.container=d('div',{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(b){return a.onAdsManagerLoaded(b)},!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(b){return a.onAdError(b)},!1),this.requestAds()}},{key:"requestAds",value:function(){var b=this.player.elements.container,a;try{a=new google.ima.AdsRequest,a.adTagUrl=this.tagUrl,a.linearAdSlotWidth=b.offsetWidth,a.linearAdSlotHeight=b.offsetHeight,a.nonLinearAdSlotWidth=b.offsetWidth,a.nonLinearAdSlotHeight=b.offsetHeight,a.forceNonLinearFullSlot=!1,a.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(a)}catch(a){this.onAdError(a)}}},{key:"pollCountdown",value:function(){var a=this,b=!!(arguments.length>0&&arguments[0]!==void 0)&&arguments[0],c;if(!b){clearInterval(this.countdownTimer),this.elements.container.removeAttribute('data-badge-text');return}c=function(){var b=M(Math.max(a.manager.getRemainingTime(),0)),c="".concat(k.get('advertisement',a.player.config)," - ").concat(b);a.elements.container.setAttribute('data-badge-text',c)},this.countdownTimer=setInterval(c,100)}},{key:"onAdsManagerLoaded",value:function(c){var a=this,b;if(!this.enabled)return;b=new google.ima.AdsRenderingSettings,b.restoreCustomPlaybackStateOnAdBreakComplete=!0,b.enablePreloading=!0,this.manager=c.getAdsManager(this.player,b),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(b){return a.onAdError(b)}),Object.keys(google.ima.AdEvent.Type).forEach(function(b){a.manager.addEventListener(google.ima.AdEvent.Type[b],function(b){return a.onAdEvent(b)})}),this.trigger('loaded')}},{key:"addCuePoints",value:function(){var b=this;a.empty(this.cuePoints)||this.cuePoints.forEach(function(c){var e,g,f;c!==0&&c!==-1&&c<b.player.duration&&(e=b.player.elements.progress,a.element(e)&&(g=100/b.player.duration*c,f=d('span',{class:b.player.config.classNames.cues}),f.style.left="".concat(g.toString(),"%"),e.appendChild(f)))})}},{key:"onAdEvent",value:function(a){var d=this,e=this.player.elements.container,b=a.getAd(),f=a.getAdData(),g=function(a){c.call(d.player,d.player.media,"ads".concat(a.replace(/_/g,'').toLowerCase()))};switch(g(a.type),a.type){case google.ima.AdEvent.Type.LOADED:this.trigger('loaded'),this.pollCountdown(!0),b.isLinear()||(b.width=e.offsetWidth,b.height=e.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:f.adError&&this.player.debug.warn("Non-fatal ad error: ".concat(f.adError.getMessage()));break}}},{key:"onAdError",value:function(a){this.cancel(),this.player.debug.warn('Ads error',a)}},{key:"listeners",value:function(){var b=this,c=this.player.elements.container,d;this.player.on('canplay',function(){b.addCuePoints()}),this.player.on('ended',function(){b.loader.contentComplete()}),this.player.on('timeupdate',function(){d=b.player.currentTime}),this.player.on('seeked',function(){var c=b.player.currentTime;if(a.empty(b.cuePoints))return;b.cuePoints.forEach(function(a,e){d<a&&a<c&&(b.manager.discardAdBreak(),b.cuePoints.splice(e,1))})}),window.addEventListener('resize',function(){b.manager&&b.manager.resize(c.offsetWidth,c.offsetHeight,google.ima.ViewMode.NORMAL)})}},{key:"play",value:function(){var a=this,b=this.player.elements.container;this.managerPromise||this.resumeContent(),this.managerPromise.then(function(){a.manager.setVolume(a.player.volume),a.elements.displayContainer.initialize();try{a.initialized||(a.manager.init(b.offsetWidth,b.offsetHeight,google.ima.ViewMode.NORMAL),a.manager.start()),a.initialized=!0}catch(b){a.onAdError(b)}}).catch(function(){})}},{key:"resumeContent",value:function(){this.elements.container.style.zIndex='',this.playing=!1,q(this.player.media.play())}},{key:"pauseContent",value:function(){this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}},{key:"cancel",value:function(){this.initialized&&this.resumeContent(),this.trigger('error'),this.loadAds()}},{key:"loadAds",value:function(){var a=this;this.managerPromise.then(function(){a.manager&&a.manager.destroy(),a.managerPromise=new Promise(function(b){a.on('loaded',b),a.player.debug.log(a.manager)}),a.initialized=!1,a.requestAds()}).catch(function(){})}},{key:"trigger",value:function(f){for(var g=this,c=arguments.length,e=new Array(c>1?c-1:0),b=1,d;b<c;b++)e[b-1]=arguments[b];d=this.events[f],a.array(d)&&d.forEach(function(b){a.function(b)&&b.apply(g,e)})}},{key:"on",value:function(b,c){return a.array(this.events[b])||(this.events[b]=[]),this.events[b].push(c),this}},{key:"startSafetyTimer",value:function(b,c){var a=this;this.player.debug.log("Safety timer invoked from: ".concat(c)),this.safetyTimer=setTimeout(function(){a.cancel(),a.clearSafetyTimer('startSafetyTimer()')},b)}},{key:"clearSafetyTimer",value:function(b){a.nullOrUndefined(this.safetyTimer)||(this.player.debug.log("Safety timer cleared from: ".concat(b)),clearTimeout(this.safetyTimer),this.safetyTimer=null)}},{key:"enabled",get:function(){var b=this.config;return this.player.isHTML5&&this.player.isVideo&&b.enabled&&(!a.empty(b.publisherId)||a.url(b.tagUrl))}},{key:"tagUrl",get:function(){var b=this.config,c,d;return a.url(b.tagUrl)?b.tagUrl:(c={AV_PUBLISHERID:'58c25bb0073ef448b1087ad6',AV_CHANNELID:'5a0458dc28a06145e4519d21',AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:b.publisherId},d='https://go.aniview.com/api/adserver6/vast/',"".concat(d,"?").concat(bh(c)))}}]),b}(),aJ=function(c){var b=[],d=c.split(/\r\n\r\n|\n\n|\r\r/);return d.forEach(function(d){var c={},e=d.split(/\r\n|\n|\r/);e.forEach(function(f){var b,e,g,h,d;a.number(c.startTime)?!a.empty(f.trim())&&a.empty(c.text)&&(e=f.trim().split('#xywh='),g=m(e,1),c.text=g[0],e[1]&&(h=e[1].split(','),d=m(h,4),c.x=d[0],c.y=d[1],c.w=d[2],c.h=d[3])):(b=f.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/),b&&(c.startTime=Number(b[1]||0)*60*60+Number(b[2])*60+Number(b[3])+Number("0.".concat(b[4])),c.endTime=Number(b[6]||0)*60*60+Number(b[7])*60+Number(b[8])+Number("0.".concat(b[9]))))}),c.text&&b.push(c)}),b},az=function(c,a){var d=a.width/a.height,b={};return c>d?(b.width=a.width,b.height=1/c*a.width):(b.height=a.height,b.width=c*a.height),b},aA=function(){function b(a){y(this,b),this.player=a,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}return w(b,[{key:"load",value:function(){var a=this;if(this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),!this.enabled)return;this.getThumbnails().then(function(){if(!a.enabled)return;a.render(),a.determineContainerAutoSizing(),a.loaded=!0})}},{key:"getThumbnails",value:function(){var b=this;return new Promise(function(e){var c=b.player.config.previewThumbnails.src,d,f,g;if(a.empty(c))throw new Error('Missing previewThumbnails.src config attribute');d=function(){b.thumbnails.sort(function(a,b){return a.height-b.height}),b.player.debug.log('Preview thumbnails',b.thumbnails),e()},a.function(c)?c(function(a){b.thumbnails=a,d()}):(f=a.string(c)?[c]:c,g=f.map(function(a){return b.getThumbnail(a)}),Promise.all(g).then(d))})}},{key:"getThumbnail",value:function(a){var b=this;return new Promise(function(c){J(a).then(function(f){var d={frames:aJ(f),height:null,urlPrefix:''},e;!d.frames[0].text.startsWith('/')&&!d.frames[0].text.startsWith('http://')&&!d.frames[0].text.startsWith('https://')&&(d.urlPrefix=a.substring(0,a.lastIndexOf('/')+1)),e=new Image,e.onload=function(){d.height=e.naturalHeight,d.width=e.naturalWidth,b.thumbnails.push(d),c()},e.src=d.urlPrefix+d.frames[0].text})})}},{key:"startMove",value:function(b){var c,d;if(!this.loaded)return;if(!a.event(b)||!['touchmove','mousemove'].includes(b.type))return;if(!this.player.media.duration)return;b.type==='touchmove'?this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100):(c=this.player.elements.progress.getBoundingClientRect(),d=100/c.width*(b.pageX-c.left),this.seekTime=this.player.media.duration*(d/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=b.pageX,this.elements.thumb.time.innerText=M(this.seekTime)),this.showImageAtCurrentTime()}},{key:"endMove",value:function(){this.toggleThumbContainer(!1,!0)}},{key:"startScrubbing",value:function(b){(a.nullOrUndefined(b.button)||b.button===!1||b.button===0)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}},{key:"endScrubbing",value:function(){var a=this;this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):ad.call(this.player,this.player.media,'timeupdate',function(){a.mouseDown||a.toggleScrubbingContainer(!1)})}},{key:"listeners",value:function(){var a=this;this.player.on('play',function(){a.toggleThumbContainer(!1,!0)}),this.player.on('seeked',function(){a.toggleThumbContainer(!1)}),this.player.on('timeupdate',function(){a.lastTime=a.player.media.currentTime})}},{key:"render",value:function(){this.elements.thumb.container=d('div',{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=d('div',{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);var b=d('div',{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=d('span',{},'00:00'),b.appendChild(this.elements.thumb.time),this.elements.thumb.container.appendChild(b),a.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=d('div',{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}},{key:"destroy",value:function(){this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}},{key:"showImageAtCurrentTime",value:function(){var b=this,a,c,d;if(this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos(),a=this.thumbnails[0].frames.findIndex(function(a){return b.seekTime>=a.startTime&&b.seekTime<=a.endTime}),c=a>=0,d=0,this.mouseDown||this.toggleThumbContainer(c),!c)return;this.thumbnails.forEach(function(c,e){b.loadedImages.includes(c.frames[a].text)&&(d=e)}),a!==this.showingThumb&&(this.showingThumb=a,this.loadImage(d))}},{key:"loadImage",value:function(){var i=this,d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,c=this.showingThumb,e=this.thumbnails[d],h=e.urlPrefix,f=e.frames[c],b=e.frames[c].text,g=h+b,a;!this.currentImageElement||this.currentImageElement.dataset.filename!==b?(this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null),a=new Image,a.src=g,a.dataset.index=c,a.dataset.filename=b,this.showingThumbFilename=b,this.player.debug.log("Loading image: ".concat(g)),a.onload=function(){return i.showImage(a,f,d,c,b,!0)},this.loadingImage=a,this.removeOldImages(a)):(this.showImage(this.currentImageElement,f,d,c,b,!1),this.currentImageElement.dataset.index=c,this.removeOldImages(this.currentImageElement))}},{key:"showImage",value:function(a,e,f,c,b){var d=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5];this.player.debug.log("Showing thumb: ".concat(b,". num: ").concat(c,". qual: ").concat(f,". newimg: ").concat(d)),this.setImageSizeAndOffset(a,e),d&&(this.currentImageContainer.appendChild(a),this.currentImageElement=a,this.loadedImages.includes(b)||this.loadedImages.push(b)),this.preloadNearby(c,!0).then(this.preloadNearby(c,!1)).then(this.getHigherQuality(f,a,e,b))}},{key:"removeOldImages",value:function(b){var a=this;Array.from(this.currentImageContainer.children).forEach(function(c){var d,e;if(c.tagName.toLowerCase()!=='img')return;d=a.usingSprites?500:1e3,c.dataset.index!==b.dataset.index&&!c.dataset.deleting&&(c.dataset.deleting=!0,e=a.currentImageContainer,setTimeout(function(){e.removeChild(c),a.player.debug.log("Removing thumb: ".concat(c.dataset.filename))},d))})}},{key:"preloadNearby",value:function(b){var a=this,c=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return new Promise(function(d){setTimeout(function(){var f=a.thumbnails[0].frames[b].text,e,g;a.showingThumbFilename===f&&(c?e=a.thumbnails[0].frames.slice(b):e=a.thumbnails[0].frames.slice(0,b).reverse(),g=!1,e.forEach(function(e){var b=e.text,h,i,c;b!==f&&(a.loadedImages.includes(b)||(g=!0,a.player.debug.log("Preloading thumb filename: ".concat(b)),h=a.thumbnails[0].urlPrefix,i=h+b,c=new Image,c.src=i,c.onload=function(){a.player.debug.log("Preloaded thumb filename: ".concat(b)),a.loadedImages.includes(b)||a.loadedImages.push(b),d()}))}),g||d())},300)})}},{key:"getHigherQuality",value:function(c,e,f,d){var a=this,b;c<this.thumbnails.length-1&&(b=e.naturalHeight,this.usingSprites&&(b=f.h),b<this.thumbContainerHeight&&setTimeout(function(){a.showingThumbFilename===d&&(a.player.debug.log("Showing higher quality thumb for: ".concat(d)),a.loadImage(c+1))},300))}},{key:"toggleThumbContainer",value:function(){var a=!!(arguments.length>0&&arguments[0]!==void 0)&&arguments[0],b=!!(arguments.length>1&&arguments[1]!==void 0)&&arguments[1],c=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(c,a),!a&&b&&(this.showingThumb=null,this.showingThumbFilename=null)}},{key:"toggleScrubbingContainer",value:function(){var a=!!(arguments.length>0&&arguments[0]!==void 0)&&arguments[0],b=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(b,a),a||(this.showingThumb=null,this.showingThumbFilename=null)}},{key:"determineContainerAutoSizing",value:function(){(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)}},{key:"setThumbContainerSizeAndPos",value:function(){var a,b,c;this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight>20&&this.elements.thumb.imageContainer.clientWidth<20?(b=Math.floor(this.elements.thumb.imageContainer.clientHeight*this.thumbAspectRatio),this.elements.thumb.imageContainer.style.width="".concat(b,"px")):this.elements.thumb.imageContainer.clientHeight<20&&this.elements.thumb.imageContainer.clientWidth>20&&(c=Math.floor(this.elements.thumb.imageContainer.clientWidth/this.thumbAspectRatio),this.elements.thumb.imageContainer.style.height="".concat(c,"px")):(a=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio),this.elements.thumb.imageContainer.style.height="".concat(this.thumbContainerHeight,"px"),this.elements.thumb.imageContainer.style.width="".concat(a,"px")),this.setThumbContainerPos()}},{key:"setThumbContainerPos",value:function(){var b=this.player.elements.progress.getBoundingClientRect(),d=this.player.elements.container.getBoundingClientRect(),c=this.elements.thumb.container,e=d.left-b.left+10,f=d.right-b.left-c.clientWidth-10,a=this.mousePosX-b.left-c.clientWidth/2;a<e&&(a=e),a>f&&(a=f),c.style.left="".concat(a,"px")}},{key:"setScrubbingContainerSize",value:function(){var a=az(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight}),b=a.width,c=a.height;this.elements.scrubbing.container.style.width="".concat(b,"px"),this.elements.scrubbing.container.style.height="".concat(c,"px")}},{key:"setImageSizeAndOffset",value:function(a,c){if(!this.usingSprites)return;var b=this.thumbContainerHeight/c.h;a.style.height="".concat(a.naturalHeight*b,"px"),a.style.width="".concat(a.naturalWidth*b,"px"),a.style.left="-".concat(c.x*b,"px"),a.style.top="-".concat(c.y*b,"px")}},{key:"enabled",get:function(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}},{key:"currentImageContainer",get:function(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}},{key:"usingSprites",get:function(){return Object.keys(this.thumbnails[0].frames[0]).includes('w')}},{key:"thumbAspectRatio",get:function(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}},{key:"thumbContainerHeight",get:function(){if(this.mouseDown){var a=az(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight}),b=a.height;return b}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}},{key:"currentImageElement",get:function(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement},set:function(a){this.mouseDown?this.currentScrubbingImageElement=a:this.currentThumbnailImageElement=a}}]),b}(),W={insertElements:function(c,b){var d=this;a.string(b)?bs(c,this.media,{src:b}):a.array(b)&&b.forEach(function(a){bs(c,d.media,a)})},change:function(c){var b=this;if(!aI(c,'sources.length')){this.debug.warn('Invalid source format');return}u.cancelRequests.call(this),this.destroy.call(this,function(){var g,f,l,j,k,e,n,o,p;b.options.quality=[],t(b.media),b.media=null,a.element(b.elements.container)&&b.elements.container.removeAttribute('class'),g=c.sources,f=c.type,l=m(g,1),j=l[0],k=j.provider,e=k===void 0?s.html5:k,n=j.src,o=e==='html5'?f:'div',p=e==='html5'?{}:{src:n},Object.assign(b,{provider:e,type:f,supported:i.check(f,e,b.config.playsinline),media:d(o,p)}),b.elements.container.appendChild(b.media),a.boolean(c.autoplay)&&(b.config.autoplay=c.autoplay),b.isHTML5&&(b.config.crossorigin&&b.media.setAttribute('crossorigin',''),b.config.autoplay&&b.media.setAttribute('autoplay',''),a.empty(c.poster)||(b.poster=c.poster),b.config.loop.active&&b.media.setAttribute('loop',''),b.config.muted&&b.media.setAttribute('muted',''),b.config.playsinline&&b.media.setAttribute('playsinline','')),h.addStyleHook.call(b),b.isHTML5&&W.insertElements.call(b,'source',g),b.config.title=c.title,ay.setup.call(b),b.isHTML5&&Object.keys(c).includes('tracks')&&W.insertElements.call(b,'track',c.tracks),(b.isHTML5||b.isEmbed&&!b.supported.ui)&&h.build.call(b),b.isHTML5&&b.media.load(),a.empty(c.previewThumbnails)||(Object.assign(b.config.previewThumbnails,c.previewThumbnails),b.previewThumbnails&&b.previewThumbnails.loaded&&(b.previewThumbnails.destroy(),b.previewThumbnails=null),b.config.previewThumbnails.enabled&&(b.previewThumbnails=new aA(b))),b.fullscreen.update()},!0)}};function bY(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:255;return Math.min(Math.max(a,b),c)}return au=function(){function k(n,o){var g=this,l,m,c,b,e;if(y(this,k),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=i.touch,this.media=n,a.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||a.nodeList(this.media)||a.array(this.media))&&(this.media=this.media[0]),this.config=j({},aq,k.defaults,o||{},function(){try{return JSON.parse(g.media.getAttribute('data-plyr-config'))}catch(a){return{}}}()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new be(this.config.debug),this.debug.log('Config',this.config),this.debug.log('Support',i),a.nullOrUndefined(this.media)||!a.element(this.media)){this.debug.error('Setup failed: no suitable element passed');return}if(this.media.plyr){this.debug.warn('Target already setup');return}if(!this.config.enabled){this.debug.error('Setup failed: disabled by config');return}if(!i.check().api){this.debug.error('Setup failed: no support');return}switch(l=this.media.cloneNode(!0),l.autoplay=!1,this.elements.original=l,m=this.media.tagName.toLowerCase(),c=null,b=null,m){case'div':if(c=this.media.querySelector('iframe'),a.element(c)?(b=aE(c.getAttribute('src')),this.provider=bz(b.toString()),this.elements.container=this.media,this.media=c,this.elements.container.className='',b.search.length&&(e=['1','true'],e.includes(b.searchParams.get('autoplay'))&&(this.config.autoplay=!0),e.includes(b.searchParams.get('loop'))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=e.includes(b.searchParams.get('playsinline')),this.config.youtube.hl=b.searchParams.get('hl')):this.config.playsinline=!0)):(this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider)),a.empty(this.provider)||!Object.keys(s).includes(this.provider)){this.debug.error('Setup failed: Invalid provider');return}this.type=Q.video;break;case'video':case'audio':this.type=m,this.provider=s.html5,this.media.hasAttribute('crossorigin')&&(this.config.crossorigin=!0),this.media.hasAttribute('autoplay')&&(this.config.autoplay=!0),(this.media.hasAttribute('playsinline')||this.media.hasAttribute('webkit-playsinline'))&&(this.config.playsinline=!0),this.media.hasAttribute('muted')&&(this.config.muted=!0),this.media.hasAttribute('loop')&&(this.config.loop.active=!0);break;default:this.debug.error('Setup failed: unsupported type');return}if(this.supported=i.check(this.type,this.provider,this.config.playsinline),!this.supported.api){this.debug.error('Setup failed: no support');return}this.eventListeners=[],this.listeners=new bc(this),this.storage=new ag(this),this.media.plyr=this,a.element(this.elements.container)||(this.elements.container=d('div',{tabindex:0}),aH(this.media,this.elements.container)),h.migrateStyles.call(this),h.addStyleHook.call(this),ay.setup.call(this),this.config.debug&&f.call(this,this.elements.container,this.config.events.join(' '),function(a){g.debug.log("event: ".concat(a.type))}),this.fullscreen=new bd(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&h.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new aR(this)),this.isHTML5&&this.config.autoplay&&this.once('canplay',function(){return q(g.play())}),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new aA(this))}return w(k,[{key:"play",value:function(){var b=this;return a.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(function(){return b.ads.play()}).catch(function(){return q(b.media.play())}),this.media.play()):null}},{key:"pause",value:function(){return!this.playing||!a.function(this.media.pause)?null:this.media.pause()}},{key:"togglePlay",value:function(b){var c=a.boolean(b)?b:!this.playing;return c?this.play():this.pause()}},{key:"stop",value:function(){this.isHTML5?(this.pause(),this.restart()):a.function(this.media.stop)&&this.media.stop()}},{key:"restart",value:function(){this.currentTime=0}},{key:"rewind",value:function(b){this.currentTime-=a.number(b)?b:this.config.seekTime}},{key:"forward",value:function(b){this.currentTime+=a.number(b)?b:this.config.seekTime}},{key:"increaseVolume",value:function(b){var c=this.media.muted?0:this.volume;this.volume=c+(a.number(b)?b:0)}},{key:"decreaseVolume",value:function(a){this.increaseVolume(-a)}},{key:"toggleCaptions",value:function(a){g.toggle.call(this,a,!1)}},{key:"airplay",value:function(){i.airplay&&this.media.webkitShowPlaybackTargetPicker()}},{key:"toggleControls",value:function(f){var g,h,d,i;return!!(this.supported.ui&&!this.isAudio)&&(g=Y(this.elements.container,this.config.classNames.hideControls),h=typeof f=='undefined'?void 0:!f,d=e(this.elements.container,this.config.classNames.hideControls,h),d&&a.array(this.config.controls)&&this.config.controls.includes('settings')&&!a.empty(this.config.settings)&&b.toggleMenu.call(this,!1),d!==g&&(i=d?'controlshidden':'controlsshown',c.call(this,this.media,i)),!d)}},{key:"on",value:function(a,b){f.call(this,this.elements.container,a,b)}},{key:"once",value:function(a,b){ad.call(this,this.elements.container,a,b)}},{key:"off",value:function(a,b){L(this.elements.container,a,b)}},{key:"destroy",value:function(d){var b=this,f=!!(arguments.length>1&&arguments[1]!==void 0)&&arguments[1],e;if(!this.ready)return;e=function(){document.body.style.overflow='',b.embed=null,f?(Object.keys(b.elements).length&&(t(b.elements.buttons.play),t(b.elements.captions),t(b.elements.controls),t(b.elements.wrapper),b.elements.buttons.play=null,b.elements.captions=null,b.elements.controls=null,b.elements.wrapper=null),a.function(d)&&d()):(bT.call(b),u.cancelRequests.call(b),X(b.elements.original,b.elements.container),c.call(b,b.elements.original,'destroyed',!0),a.function(d)&&d.call(b.elements.original),b.ready=!1,setTimeout(function(){b.elements=null,b.media=null},200))},this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(h.toggleNativeControls.call(this,!0),e()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),this.embed!==null&&a.function(this.embed.destroy)&&this.embed.destroy(),e()):this.isVimeo&&(this.embed!==null&&this.embed.unload().then(e),setTimeout(e,200))}},{key:"supports",value:function(a){return i.mime.call(this,a)}},{key:"isHTML5",get:function(){return this.provider===s.html5}},{key:"isEmbed",get:function(){return this.isYouTube||this.isVimeo}},{key:"isYouTube",get:function(){return this.provider===s.youtube}},{key:"isVimeo",get:function(){return this.provider===s.vimeo}},{key:"isVideo",get:function(){return this.type===Q.video}},{key:"isAudio",get:function(){return this.type===Q.audio}},{key:"playing",get:function(){return Boolean(this.ready&&!this.paused&&!this.ended)}},{key:"paused",get:function(){return Boolean(this.media.paused)}},{key:"stopped",get:function(){return Boolean(this.paused&&this.currentTime===0)}},{key:"ended",get:function(){return Boolean(this.media.ended)}},{key:"currentTime",set:function(b){if(!this.duration)return;var c=a.number(b)&&b>0;this.media.currentTime=c?Math.min(b,this.duration):0,this.debug.log("Seeking to ".concat(this.currentTime," seconds"))},get:function(){return Number(this.media.currentTime)}},{key:"buffered",get:function(){var b=this.media.buffered;return a.number(b)?b:b&&b.length&&this.duration>0?b.end(0)/this.duration:0}},{key:"seeking",get:function(){return Boolean(this.media.seeking)}},{key:"duration",get:function(){var c=parseFloat(this.config.duration),b=(this.media||{}).duration,d=!a.number(b)||b===1/0?0:b;return c||d}},{key:"volume",set:function(c){var b=c,d=1,e=0;a.string(b)&&(b=Number(b)),a.number(b)||(b=this.storage.get('volume')),a.number(b)||(b=this.config.volume),b>d&&(b=d),b<e&&(b=e),this.config.volume=b,this.media.volume=b,!a.empty(c)&&this.muted&&b>0&&(this.muted=!1)},get:function(){return Number(this.media.volume)}},{key:"muted",set:function(c){var b=c;a.boolean(b)||(b=this.storage.get('muted')),a.boolean(b)||(b=this.config.muted),this.config.muted=b,this.media.muted=b},get:function(){return Boolean(this.media.muted)}},{key:"hasAudio",get:function(){return!this.isHTML5||(!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length))}},{key:"speed",set:function(c){var d=this,b=null,e,f;a.number(c)&&(b=c),a.number(b)||(b=this.storage.get('speed')),a.number(b)||(b=this.config.speed.selected),e=this.minimumSpeed,f=this.maximumSpeed,b=bY(b,e,f),this.config.speed.selected=b,setTimeout(function(){d.media.playbackRate=b},0)},get:function(){return Number(this.media.playbackRate)}},{key:"minimumSpeed",get:function(){return this.isYouTube?Math.min.apply(Math,ax(this.options.speed)):this.isVimeo?.5:.0625}},{key:"maximumSpeed",get:function(){return this.isYouTube?Math.max.apply(Math,ax(this.options.speed)):this.isVimeo?2:16}},{key:"quality",set:function(f){var c=this.config.quality,d=this.options.quality,b,g,e;if(!d.length)return;b=[!a.empty(f)&&Number(f),this.storage.get('quality'),c.selected,c.default].find(a.number),g=!0,d.includes(b)||(e=bQ(d,b),this.debug.warn("Unsupported quality option: ".concat(b,", using ").concat(e," instead")),b=e,g=!1),c.selected=b,this.media.quality=b,g&&this.storage.set({quality:b})},get:function(){return this.media.quality}},{key:"loop",set:function(b){var c=a.boolean(b)?b:this.config.loop.active;this.config.loop.active=c,this.media.loop=c},get:function(){return Boolean(this.media.loop)}},{key:"source",set:function(a){W.change.call(this,a)},get:function(){return this.media.currentSrc}},{key:"download",get:function(){var b=this.config.urls.download;return a.url(b)?b:this.source},set:function(c){if(!a.url(c))return;this.config.urls.download=c,b.setDownloadUrl.call(this)}},{key:"poster",set:function(a){if(!this.isVideo){this.debug.warn('Poster can only be set for video');return}h.setPoster.call(this,a,!1).catch(function(){})},get:function(){return this.isVideo?this.media.getAttribute('poster')||this.media.getAttribute('data-poster'):null}},{key:"ratio",get:function(){if(!this.isVideo)return null;var b=aV(ab.call(this));return a.array(b)?b.join(':'):b},set:function(b){if(!this.isVideo){this.debug.warn('Aspect ratio can only be set for video');return}if(!a.string(b)||!aU(b)){this.debug.error("Invalid aspect ratio specified (".concat(b,")"));return}this.config.ratio=b,v.call(this)}},{key:"autoplay",set:function(b){var c=a.boolean(b)?b:this.config.autoplay;this.config.autoplay=c},get:function(){return Boolean(this.config.autoplay)}},{key:"currentTrack",set:function(a){g.set.call(this,a,!1)},get:function(){var a=this.captions,b=a.toggled,c=a.currentTrack;return b?c:-1}},{key:"language",set:function(a){g.setLanguage.call(this,a,!1)},get:function(){return(g.getCurrentTrack.call(this)||{}).language}},{key:"pip",set:function(c){if(!i.pip)return;var b=a.boolean(c)?c:!this.pip;a.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(b?P.active:P.inactive),a.function(this.media.requestPictureInPicture)&&(!this.pip&&b?this.media.requestPictureInPicture():this.pip&&!b&&document.exitPictureInPicture())},get:function(){return i.pip?a.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===P.active:null}}],[{key:"supported",value:function(a,b,c){return i.check(a,b,c)}},{key:"loadSprite",value:function(a,b){return bm(a,b)}},{key:"setup",value:function(b){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c=null;return(a.string(b)?c=Array.from(document.querySelectorAll(b)):a.nodeList(b)?c=Array.from(b):a.array(b)&&(c=b.filter(a.element)),a.empty(c))?null:c.map(function(a){return new k(a,d)})}}]),k}(),au.defaults=bU(aq),au})`,
	"service-worker": `self.addEventListener("fetch",a=>{a.request.url.includes("/feed/icon/")&&a.respondWith(caches.open("feed_icons").then(b=>b.match(a.request).then(c=>c||fetch(a.request).then(c=>(b.put(a.request,c.clone()),c)))))})`,
}

var JavascriptsChecksums = map[string]string{
	"app":            "08d08168318afe43ea90010d3024b7a74beda50f4ddb2f5e922bd9580488691f",
	"plyr":           "693bdb1a05c60c67c800c82fa135bf7fa1a90cb2cfbacfd1186fd0895f271f7f",
	"service-worker": "730f10dc6a52e0bd9271da0c3b0103368893f3feb0a092fd585ac5b7abedb4ac",
}
